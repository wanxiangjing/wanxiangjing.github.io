import{a as Hr}from"./utils-vendor-NIGUFBhG.js";import{a as Qt,m as We,w as Yt,c as rt}from"./with-default-props-taf6CbSB.js";import{a as x,R as C,r as Zr}from"./store-vendor-wTk_-vyD.js";import{P as fr,d as Xr,_ as Jr,y as st,Q as dn,R as es}from"./index-B5B0fcnl.js";var lr=fr(),ts=function(){var e=x.useRef(!1);return x.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e};const hn=10;function ns(e,t){return e>t&&e>hn?"horizontal":t>e&&t>hn?"vertical":""}function rs(){const e=x.useRef(0),t=x.useRef(0),n=x.useRef(0),r=x.useRef(0),s=x.useRef(0),i=x.useRef(0),o=x.useRef(""),c=()=>o.current==="vertical",u=()=>o.current==="horizontal",a=()=>{n.current=0,r.current=0,s.current=0,i.current=0,o.current=""};return{move:d=>{const g=d.touches[0];n.current=g.clientX<0?0:g.clientX-e.current,r.current=g.clientY-t.current,s.current=Math.abs(n.current),i.current=Math.abs(r.current),o.current||(o.current=ns(s.current,i.current))},start:d=>{a(),e.current=d.touches[0].clientX,t.current=d.touches[0].clientY},reset:a,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:s,offsetY:i,direction:o,isVertical:c,isHorizontal:u}}const ss=Qt?window:void 0,is=["scroll","auto","overlay"];function os(e){return e.nodeType===1}function as(e,t=ss){let n=e;for(;n&&n!==t&&os(n);){if(n===document.body)return t;const{overflowY:r}=window.getComputedStyle(n);if(is.includes(r)&&n.scrollHeight>n.clientHeight)return n;n=n.parentNode}return t}let qt=!1;if(Qt)try{const e={};Object.defineProperty(e,"passive",{get(){qt=!0}}),window.addEventListener("test-passive",null,e)}catch{}let ge=0;const pn="adm-overflow-hidden";function us(e){let t=e?.parentElement;for(;t;){if(t.clientHeight<t.scrollHeight)return t;t=t.parentElement}return null}function cs(e,t){const n=rs(),r=o=>{n.move(o);const c=n.deltaY.current>0?"10":"01",u=as(o.target,e.current);if(!u)return;if(t==="strict"){const h=us(o.target);if(h===document.body||h===document.documentElement){o.preventDefault();return}}const{scrollHeight:a,offsetHeight:l,scrollTop:f}=u,{height:d}=u.getBoundingClientRect();let g="11";f===0?g=l>=a?"00":"01":a<=Math.round(d+f)&&(g="10"),g!=="11"&&n.isVertical()&&!(parseInt(g,2)&parseInt(c,2))&&o.cancelable&&qt&&o.preventDefault()},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,qt?{passive:!1}:!1),ge||document.body.classList.add(pn),ge++},i=()=>{ge&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),ge--,ge||document.body.classList.remove(pn))};x.useEffect(()=>{if(t)return s(),()=>{i()}},[t])}let Kt=je();const S=e=>Ie(e,Kt);let Ht=je();S.write=e=>Ie(e,Ht);let Qe=je();S.onStart=e=>Ie(e,Qe);let Zt=je();S.onFrame=e=>Ie(e,Zt);let Xt=je();S.onFinish=e=>Ie(e,Xt);let fe=[];S.setTimeout=(e,t)=>{let n=S.now()+t,r=()=>{let i=fe.findIndex(o=>o.cancel==r);~i&&fe.splice(i,1),re-=~i?1:0},s={time:n,handler:e,cancel:r};return fe.splice(dr(n),0,s),re+=1,hr(),s};let dr=e=>~(~fe.findIndex(t=>t.time>e)||~fe.length);S.cancel=e=>{Qe.delete(e),Zt.delete(e),Xt.delete(e),Kt.delete(e),Ht.delete(e)};S.sync=e=>{Ft=!0,S.batchedUpdates(e),Ft=!1};S.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,S.onStart(n)}return r.handler=e,r.cancel=()=>{Qe.delete(n),t=null},r};let Jt=typeof window<"u"?window.requestAnimationFrame:()=>{};S.use=e=>Jt=e;S.now=typeof performance<"u"?()=>performance.now():Date.now;S.batchedUpdates=e=>e();S.catch=console.error;S.frameLoop="always";S.advance=()=>{S.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):mr()};let ne=-1,re=0,Ft=!1;function Ie(e,t){Ft?(t.delete(e),e(0)):(t.add(e),hr())}function hr(){ne<0&&(ne=0,S.frameLoop!=="demand"&&Jt(pr))}function fs(){ne=-1}function pr(){~ne&&(Jt(pr),S.batchedUpdates(mr))}function mr(){let e=ne;ne=S.now();let t=dr(ne);if(t&&(gr(fe.splice(0,t),n=>n.handler()),re-=t),!re){fs();return}Qe.flush(),Kt.flush(e?Math.min(64,ne-e):16.667),Zt.flush(),Ht.flush(),Xt.flush()}function je(){let e=new Set,t=e;return{add(n){re+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return re-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,re-=t.size,gr(t,r=>r(n)&&e.add(r)),re+=e.size,t=e)}}}function gr(e,t){e.forEach(n=>{try{t(n)}catch(r){S.catch(r)}})}function $t(){}const ls=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),m={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ee(e,t){if(m.arr(e)){if(!m.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const P=(e,t)=>e.forEach(t);function Z(e,t,n){if(m.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}const L=e=>m.und(e)?[]:m.arr(e)?e:[e];function _e(e,t){if(e.size){const n=Array.from(e);e.clear(),P(n,t)}}const be=(e,...t)=>_e(e,n=>n(...t)),en=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let tn,yr,se=null,vr=!1,nn=$t;const ds=e=>{e.to&&(yr=e.to),e.now&&(S.now=e.now),e.colors!==void 0&&(se=e.colors),e.skipAnimation!=null&&(vr=e.skipAnimation),e.createStringInterpolator&&(tn=e.createStringInterpolator),e.requestAnimationFrame&&S.use(e.requestAnimationFrame),e.batchedUpdates&&(S.batchedUpdates=e.batchedUpdates),e.willAdvance&&(nn=e.willAdvance),e.frameLoop&&(S.frameLoop=e.frameLoop)};var X=Object.freeze({__proto__:null,get createStringInterpolator(){return tn},get to(){return yr},get colors(){return se},get skipAnimation(){return vr},get willAdvance(){return nn},assign:ds});const we=new Set;let z=[],it=[],De=0;const Ye={get idle(){return!we.size&&!z.length},start(e){De>e.priority?(we.add(e),S.onStart(hs)):(xr(e),S(Nt))},advance:Nt,sort(e){if(De)S.onFrame(()=>Ye.sort(e));else{const t=z.indexOf(e);~t&&(z.splice(t,1),br(e))}},clear(){z=[],we.clear()}};function hs(){we.forEach(xr),we.clear(),S(Nt)}function xr(e){z.includes(e)||br(e)}function br(e){z.splice(ps(z,t=>t.priority>e.priority),0,e)}function Nt(e){const t=it;for(let n=0;n<z.length;n++){const r=z[n];De=r.priority,r.idle||(nn(r),r.advance(e),r.idle||t.push(r))}return De=0,it=z,it.length=0,z=t,z.length>0}function ps(e,t){const n=e.findIndex(t);return n<0?e.length:n}const ms={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},W="[-+]?\\d*\\.?\\d+",Ue=W+"%";function Ke(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const gs=new RegExp("rgb"+Ke(W,W,W)),ys=new RegExp("rgba"+Ke(W,W,W,W)),vs=new RegExp("hsl"+Ke(W,Ue,Ue)),xs=new RegExp("hsla"+Ke(W,Ue,Ue,W)),bs=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_s=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ws=/^#([0-9a-fA-F]{6})$/,Rs=/^#([0-9a-fA-F]{8})$/;function Ss(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ws.exec(e))?parseInt(t[1]+"ff",16)>>>0:se&&se[e]!==void 0?se[e]:(t=gs.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|255)>>>0:(t=ys.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|yn(t[4]))>>>0:(t=bs.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Rs.exec(e))?parseInt(t[1],16)>>>0:(t=_s.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=vs.exec(e))?(mn(gn(t[1]),Ne(t[2]),Ne(t[3]))|255)>>>0:(t=xs.exec(e))?(mn(gn(t[1]),Ne(t[2]),Ne(t[3]))|yn(t[4]))>>>0:null}function ot(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mn(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=ot(s,r,e+1/3),o=ot(s,r,e),c=ot(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(c*255)<<8}function ce(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function gn(e){return(parseFloat(e)%360+360)%360/360}function yn(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Ne(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function vn(e){let t=Ss(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}const Pe=(e,t,n)=>{if(m.fun(e))return e;if(m.arr(e))return Pe({range:e,output:t,extrapolate:n});if(m.str(e.output[0]))return tn(e);const r=e,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",c=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(a=>a);return a=>{const l=ks(a,i);return Ps(a,i[l],i[l+1],s[l],s[l+1],u,o,c,r.map)}};function Ps(e,t,n,r,s,i,o,c,u){let a=u?u(e):e;if(a<t){if(o==="identity")return a;o==="clamp"&&(a=t)}if(a>n){if(c==="identity")return a;c==="clamp"&&(a=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?a=-a:n===1/0?a=a-t:a=(a-t)/(n-t),a=i(a),r===-1/0?a=-a:s===1/0?a=a+r:a=a*(s-r)+r,a)}function ks(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}const Es={linear:e=>e};function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt.apply(this,arguments)}const de=Symbol.for("FluidValue.get"),ae=Symbol.for("FluidValue.observers"),U=e=>!!(e&&e[de]),q=e=>e&&e[de]?e[de]():e,xn=e=>e[ae]||null;function Os(e,t){e.eventObserved?e.eventObserved(t):e(t)}function ke(e,t){let n=e[ae];n&&n.forEach(r=>{Os(r,t)})}class _r{constructor(t){if(this[de]=void 0,this[ae]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");As(this,t)}}const As=(e,t)=>wr(e,de,t);function pe(e,t){if(e[de]){let n=e[ae];n||wr(e,ae,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ee(e,t){let n=e[ae];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[ae]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const wr=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Me=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Cs=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,bn=new RegExp(`(${Me.source})(%|[a-z]+)`,"i"),Ts=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,He=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Rr=e=>{const[t,n]=Is(e);if(!t||en())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&He.test(n))return Rr(n);if(n)return n}return e},Is=e=>{const t=He.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]};let at;const js=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Sr=e=>{at||(at=se?new RegExp(`(${Object.keys(se).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>q(i).replace(He,Rr).replace(Cs,vn).replace(at,vn)),n=t.map(i=>i.match(Me).map(Number)),s=n[0].map((i,o)=>n.map(c=>{if(!(o in c))throw Error('The arity of each "output" value must be equal');return c[o]})).map(i=>Pe(Mt({},e,{output:i})));return i=>{var o;const c=!bn.test(t[0])&&((o=t.find(a=>bn.test(a)))==null?void 0:o.replace(Me,""));let u=0;return t[0].replace(Me,()=>`${s[u++](i)}${c||""}`).replace(Ts,js)}},rn="react-spring: ",Pr=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${rn}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},qs=Pr(console.warn);function Fs(){qs(`${rn}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const $s=Pr(console.warn);function Ns(){$s(`${rn}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ze(e){return m.str(e)&&(e[0]=="#"||/\d/.test(e)||!en()&&He.test(e)||e in(se||{}))}const sn=en()?x.useEffect:x.useLayoutEffect,Ms=()=>{const e=x.useRef(!1);return sn(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function kr(){const e=x.useState()[1],t=Ms();return()=>{t.current&&e(Math.random())}}function Vs(e,t){const[n]=x.useState(()=>({inputs:t,result:e()})),r=x.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&Ls(t,i.inputs)||(i={inputs:t,result:e()}):i=n,x.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function Ls(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Er=e=>x.useEffect(e,Ds),Ds=[];function _n(e){const t=x.useRef();return x.useEffect(()=>{t.current=e}),t.current}const Oe=Symbol.for("Animated:node"),Us=e=>!!e&&e[Oe]===e,H=e=>e&&e[Oe],on=(e,t)=>ls(e,Oe,t),Xe=e=>e&&e[Oe]&&e[Oe].getPayload();class Or{constructor(){this.payload=void 0,on(this,this)}getPayload(){return this.payload||[]}}class me extends Or{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,m.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new me(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return m.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,m.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}class he extends me{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=Pe({output:[t,t]})}static create(t){return new he(t)}getValue(){let t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(m.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Pe({output:[this.getValue(),t]})),this._value=0,super.reset()}}const ze={dependencies:null};class Je extends Or{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const n={};return Z(this.source,(r,s)=>{Us(r)?n[s]=r.getValue(t):U(r)?n[s]=q(r):t||(n[s]=r)}),n}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&P(this.payload,t=>t.reset())}_makePayload(t){if(t){const n=new Set;return Z(t,this._addToPayload,n),Array.from(n)}}_addToPayload(t){ze.dependencies&&U(t)&&ze.dependencies.add(t);const n=Xe(t);n&&P(n,r=>this.add(r))}}class an extends Je{constructor(t){super(t)}static create(t){return new an(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,s)=>r.setValue(t[s])).some(Boolean):(super.setValue(t.map(zs)),!0)}}function zs(e){return(Ze(e)?he:me).create(e)}function Vt(e){const t=H(e);return t?t.constructor:m.arr(e)?an:Ze(e)?he:me}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}const wn=(e,t)=>{const n=!m.fun(e)||e.prototype&&e.prototype.isReactComponent;return x.forwardRef((r,s)=>{const i=x.useRef(null),o=n&&x.useCallback(h=>{i.current=Ws(s,h)},[s]),[c,u]=Bs(r,t),a=kr(),l=()=>{const h=i.current;if(n&&!h)return;(h?t.applyAnimatedValues(h,c.getValue(!0)):!1)===!1&&a()},f=new Gs(l,u),d=x.useRef();sn(()=>(d.current=f,P(u,h=>pe(h,f)),()=>{d.current&&(P(d.current.deps,h=>Ee(h,d.current)),S.cancel(d.current.update))})),x.useEffect(l,[]),Er(()=>()=>{const h=d.current;P(h.deps,y=>Ee(y,h))});const g=t.getComponentProps(c.getValue());return x.createElement(e,Ge({},g,{ref:o}))})};class Gs{constructor(t,n){this.update=t,this.deps=n}eventObserved(t){t.type=="change"&&S.write(this.update)}}function Bs(e,t){const n=new Set;return ze.dependencies=n,e.style&&(e=Ge({},e,{style:t.createAnimatedStyle(e.style)})),e=new Je(e),ze.dependencies=null,[e,n]}function Ws(e,t){return e&&(m.fun(e)?e(t):e.current=t),t}const Rn=Symbol.for("AnimatedComponent"),Qs=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Je(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=o=>{const c=Sn(o)||"Anonymous";return m.str(o)?o=i[o]||(i[o]=wn(o,s)):o=o[Rn]||(o[Rn]=wn(o,s)),o.displayName=`Animated(${c})`,o};return Z(e,(o,c)=>{m.arr(e)&&(c=Sn(o)),i[c]=i(o)}),{animated:i}},Sn=e=>m.str(e)?e:e&&m.str(e.displayName)?e.displayName:m.fun(e)&&e.name||null;function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function oe(e,...t){return m.fun(e)?e(...t):e}const Re=(e,t)=>e===!0||!!(t&&e&&(m.fun(e)?e(t):L(e).includes(t))),Ar=(e,t)=>m.obj(e)?t&&e[t]:e,Cr=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Ys=e=>e,un=(e,t=Ys)=>{let n=Ks;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);m.und(i)||(r[s]=i)}return r},Ks=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Hs={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Zs(e){const t={};let n=0;if(Z(e,(r,s)=>{Hs[s]||(t[s]=r,n++)}),n)return t}function Tr(e){const t=Zs(e);if(t){const n={to:t};return Z(e,(r,s)=>s in t||(n[s]=r)),n}return I({},e)}function Ae(e){return e=q(e),m.arr(e)?e.map(Ae):Ze(e)?X.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Xs(e){for(const t in e)return!0;return!1}function Lt(e){return m.fun(e)||m.arr(e)&&m.obj(e[0])}function Js(e,t){var n;(n=e.ref)==null||n.delete(e),t?.delete(e)}function ei(e,t){if(t&&e.ref!==t){var n;(n=e.ref)==null||n.delete(e),t.add(e),e.ref=t}}const ti={default:{tension:170,friction:26}},Dt=I({},ti.default,{mass:1,damping:1,easing:Es.linear,clamp:!1});class ni{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Dt)}}function ri(e,t,n){n&&(n=I({},n),Pn(n,t),t=I({},n,t)),Pn(e,t),Object.assign(e,t);for(const o in Dt)e[o]==null&&(e[o]=Dt[o]);let{mass:r,frequency:s,damping:i}=e;return m.und(s)||(s<.01&&(s=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/s,2)*r,e.friction=4*Math.PI*i*r/s),e}function Pn(e,t){if(!m.und(t.decay))e.duration=void 0;else{const n=!m.und(t.tension)||!m.und(t.friction);(n||!m.und(t.frequency)||!m.und(t.damping)||!m.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}const kn=[];class si{constructor(){this.changed=!1,this.values=kn,this.toValues=null,this.fromValues=kn,this.to=void 0,this.from=void 0,this.config=new ni,this.immediate=!1}}function Ir(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,c)=>{var u;let a,l,f=Re((u=n.cancel)!=null?u:r?.cancel,t);if(f)h();else{m.und(n.pause)||(s.paused=Re(n.pause,t));let y=r?.pause;y!==!0&&(y=s.paused||Re(y,t)),a=oe(n.delay||0,t),y?(s.resumeQueue.add(g),i.pause()):(i.resume(),g())}function d(){s.resumeQueue.add(g),s.timeouts.delete(l),l.cancel(),a=l.time-S.now()}function g(){a>0&&!X.skipAnimation?(s.delayed=!0,l=S.setTimeout(h,a),s.pauseQueue.add(d),s.timeouts.add(l)):h()}function h(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(d),s.timeouts.delete(l),e<=(s.cancelId||0)&&(f=!0);try{i.start(I({},n,{callId:e,cancel:f}),o)}catch(y){c(y)}}})}const cn=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?le(e.get()):t.every(n=>n.noop)?jr(e.get()):B(e.get(),t.every(n=>n.finished)),jr=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),B=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),le=e=>({value:e,cancelled:!0,finished:!1});function qr(e,t,n,r){const{callId:s,parentId:i,onRest:o}=t,{asyncTo:c,promise:u}=n;return!i&&e===c&&!t.reset?u:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const a=un(t,(p,b)=>b==="onRest"?void 0:p);let l,f;const d=new Promise((p,b)=>(l=p,f=b)),g=p=>{const b=s<=(n.cancelId||0)&&le(r)||s!==n.asyncId&&B(r,!1);if(b)throw p.result=b,f(p),p},h=(p,b)=>{const v=new En,R=new On;return(async()=>{if(X.skipAnimation)throw Ce(n),R.result=B(r,!1),f(R),R;g(v);const _=m.obj(p)?I({},p):I({},b,{to:p});_.parentId=s,Z(a,(T,Q)=>{m.und(_[Q])&&(_[Q]=T)});const E=await r.start(_);return g(v),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),E})()};let y;if(X.skipAnimation)return Ce(n),B(r,!1);try{let p;m.arr(e)?p=(async b=>{for(const v of b)await h(v)})(e):p=Promise.resolve(e(h,r.stop.bind(r))),await Promise.all([p.then(l),d]),y=B(r.get(),!0,!1)}catch(p){if(p instanceof En)y=p.result;else if(p instanceof On)y=p.result;else throw p}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?c:void 0,n.promise=i?u:void 0)}return m.fun(o)&&S.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function Ce(e,t){_e(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class En extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class On extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Ut=e=>e instanceof fn;let ii=1;class fn extends _r{constructor(...t){super(...t),this.id=ii++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=H(this);return t&&t.getValue()}to(...t){return X.to(this,t)}interpolate(...t){return Fs(),X.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){ke(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||Ye.sort(this),ke(this,{type:"priority",parent:this,priority:t})}}const ue=Symbol.for("SpringPhase"),Fr=1,zt=2,Gt=4,ut=e=>(e[ue]&Fr)>0,te=e=>(e[ue]&zt)>0,ye=e=>(e[ue]&Gt)>0,An=(e,t)=>t?e[ue]|=zt|Fr:e[ue]&=~zt,Cn=(e,t)=>t?e[ue]|=Gt:e[ue]&=~Gt;class oi extends fn{constructor(t,n){if(super(),this.key=void 0,this.animation=new si,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!m.und(t)||!m.und(n)){const r=m.obj(t)?I({},t):I({},n,{from:t});m.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(te(this)||this._state.asyncTo)||ye(this)}get goal(){return q(this.animation.to)}get velocity(){const t=H(this);return t instanceof me?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return ut(this)}get isAnimating(){return te(this)}get isPaused(){return ye(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,r=!1;const s=this.animation;let{config:i,toValues:o}=s;const c=Xe(s.to);!c&&U(s.to)&&(o=L(q(s.to))),s.values.forEach((l,f)=>{if(l.done)return;const d=l.constructor==he?1:c?c[f].lastPosition:o[f];let g=s.immediate,h=d;if(!g){if(h=l.lastPosition,i.tension<=0){l.done=!0;return}let y=l.elapsedTime+=t;const p=s.fromValues[f],b=l.v0!=null?l.v0:l.v0=m.arr(i.velocity)?i.velocity[f]:i.velocity;let v;const R=i.precision||(p==d?.005:Math.min(1,Math.abs(d-p)*.001));if(m.und(i.duration))if(i.decay){const _=i.decay===!0?.998:i.decay,E=Math.exp(-(1-_)*y);h=p+b/(1-_)*(1-E),g=Math.abs(l.lastPosition-h)<=R,v=b*E}else{v=l.lastVelocity==null?b:l.lastVelocity;const _=i.restVelocity||R/10,E=i.clamp?0:i.bounce,T=!m.und(E),Q=p==d?l.v0>0:p<d;let j,k=!1;const w=1,A=Math.ceil(t/w);for(let O=0;O<A&&(j=Math.abs(v)>_,!(!j&&(g=Math.abs(d-h)<=R,g)));++O){T&&(k=h==d||h>d==Q,k&&(v=-v*E,h=d));const F=-i.tension*1e-6*(h-d),Y=-i.friction*.001*v,D=(F+Y)/i.mass;v=v+D*w,h=h+v*w}}else{let _=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,l.durationProgress>0&&(l.elapsedTime=i.duration*l.durationProgress,y=l.elapsedTime+=t)),_=(i.progress||0)+y/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=p+i.easing(_)*(d-p),v=(h-l.lastPosition)/t,g=_==1}l.lastVelocity=v,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),g=!0)}c&&!c[f].done&&(g=!1),g?l.done=!0:n=!1,l.setValue(h,i.round)&&(r=!0)});const u=H(this),a=u.getValue();if(n){const l=q(s.to);(a!==l||r)&&!i.decay?(u.setValue(l),this._onChange(l)):r&&i.decay&&this._onChange(a),this._stop()}else r&&this._onChange(a)}set(t){return S.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(te(this)){const{to:t,config:n}=this.animation;S.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let r;return m.und(t)?(r=this.queue||[],this.queue=[]):r=[m.obj(t)?t:I({},n,{to:t})],Promise.all(r.map(s=>this._update(s))).then(s=>cn(this,s))}stop(t){const{to:n}=this.animation;return this._focus(this.get()),Ce(this._state,t&&this._lastCallId),S.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const n=this.key||"";let{to:r,from:s}=t;r=m.obj(r)?r[n]:r,(r==null||Lt(r))&&(r=void 0),s=m.obj(s)?s[n]:s,s==null&&(s=void 0);const i={to:r,from:s};return ut(this)||(t.reverse&&([r,s]=[s,r]),s=q(s),m.und(s)?H(this)||this._set(r):this._set(s)),i}_update(t,n){let r=I({},t);const{key:s,defaultProps:i}=this;r.default&&Object.assign(i,un(r,(u,a)=>/^on/.test(a)?Ar(u,s):u)),In(this,r,"onProps"),xe(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const c=this._state;return Ir(++this._lastCallId,{key:s,props:r,defaultProps:i,state:c,actions:{pause:()=>{ye(this)||(Cn(this,!0),be(c.pauseQueue),xe(this,"onPause",B(this,ve(this,this.animation.to)),this))},resume:()=>{ye(this)&&(Cn(this,!1),te(this)&&this._resume(),be(c.resumeQueue),xe(this,"onResume",B(this,ve(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(u=>{if(r.loop&&u.finished&&!(n&&u.noop)){const a=$r(r);if(a)return this._update(a,!0)}return u})}_merge(t,n,r){if(n.cancel)return this.stop(!0),r(le(this));const s=!m.und(t.to),i=!m.und(t.from);if(s||i)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(le(this));const{key:o,defaultProps:c,animation:u}=this,{to:a,from:l}=u;let{to:f=a,from:d=l}=t;i&&!s&&(!n.default||m.und(f))&&(f=d),n.reverse&&([f,d]=[d,f]);const g=!ee(d,l);g&&(u.from=d),d=q(d);const h=!ee(f,a);h&&this._focus(f);const y=Lt(n.to),{config:p}=u,{decay:b,velocity:v}=p;(s||i)&&(p.velocity=0),n.config&&!y&&ri(p,oe(n.config,o),n.config!==c.config?oe(c.config,o):void 0);let R=H(this);if(!R||m.und(f))return r(B(this,!0));const _=m.und(n.reset)?i&&!n.default:!m.und(d)&&Re(n.reset,o),E=_?d:this.get(),T=Ae(f),Q=m.num(T)||m.arr(T)||Ze(T),j=!y&&(!Q||Re(c.immediate||n.immediate,o));if(h){const O=Vt(f);if(O!==R.constructor)if(j)R=this._set(T);else throw Error(`Cannot animate between ${R.constructor.name} and ${O.name}, as the "to" prop suggests`)}const k=R.constructor;let w=U(f),A=!1;if(!w){const O=_||!ut(this)&&g;(h||O)&&(A=ee(Ae(E),T),w=!A),(!ee(u.immediate,j)&&!j||!ee(p.decay,b)||!ee(p.velocity,v))&&(w=!0)}if(A&&te(this)&&(u.changed&&!_?w=!0:w||this._stop(a)),!y&&((w||U(a))&&(u.values=R.getPayload(),u.toValues=U(f)?null:k==he?[1]:L(T)),u.immediate!=j&&(u.immediate=j,!j&&!_&&this._set(a)),w)){const{onRest:O}=u;P(ui,Y=>In(this,n,Y));const F=B(this,ve(this,a));be(this._pendingCalls,F),this._pendingCalls.add(r),u.changed&&S.batchedUpdates(()=>{u.changed=!_,O?.(F,this),_?oe(c.onRest,F):u.onStart==null||u.onStart(F,this)})}_&&this._set(E),y?r(qr(n.to,n,this._state,this)):w?this._start():te(this)&&!h?this._pendingCalls.add(r):r(jr(E))}_focus(t){const n=this.animation;t!==n.to&&(xn(this)&&this._detach(),n.to=t,xn(this)&&this._attach())}_attach(){let t=0;const{to:n}=this.animation;U(n)&&(pe(n,this),Ut(n)&&(t=n.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;U(t)&&Ee(t,this)}_set(t,n=!0){const r=q(t);if(!m.und(r)){const s=H(this);if(!s||!ee(r,s.getValue())){const i=Vt(r);!s||s.constructor!=i?on(this,i.create(r)):s.setValue(r),s&&S.batchedUpdates(()=>{this._onChange(r,n)})}}return H(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,xe(this,"onStart",B(this,ve(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),oe(this.animation.onChange,t,this)),oe(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){const t=this.animation;H(this).reset(q(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),te(this)||(An(this,!0),ye(this)||this._resume())}_resume(){X.skipAnimation?this.finish():Ye.start(this)}_stop(t,n){if(te(this)){An(this,!1);const r=this.animation;P(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),ke(this,{type:"idle",parent:this});const s=n?le(this.get()):B(this.get(),ve(this,t??r.to));be(this._pendingCalls,s),r.changed&&(r.changed=!1,xe(this,"onRest",s,this))}}}function ve(e,t){const n=Ae(t),r=Ae(e.get());return ee(r,n)}function $r(e,t=e.loop,n=e.to){let r=oe(t);if(r){const s=r!==!0&&Tr(r),i=(s||e).reverse,o=!s||s.reset;return Te(I({},e,{loop:t,default:!1,pause:void 0,to:!i||Lt(n)?n:void 0,from:o?e.from:void 0,reset:o},s))}}function Te(e){const{to:t,from:n}=e=Tr(e),r=new Set;return m.obj(t)&&Tn(t,r),m.obj(n)&&Tn(n,r),e.keys=r.size?Array.from(r):null,e}function ai(e){const t=Te(e);return m.und(t.default)&&(t.default=un(t)),t}function Tn(e,t){Z(e,(n,r)=>n!=null&&t.add(r))}const ui=["onStart","onRest","onChange","onPause","onResume"];function In(e,t,n){e.animation[n]=t[n]!==Cr(t,n)?Ar(t[n],e.key):void 0}function xe(e,t,...n){var r,s,i,o;(r=(s=e.animation)[t])==null||r.call(s,...n),(i=(o=e.defaultProps)[t])==null||i.call(o,...n)}const ci=["onStart","onChange","onRest"];let fi=1;class li{constructor(t,n){this.id=fi++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(I({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];m.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(Te(t)),this}start(t){let{queue:n}=this;return t?n=L(t).map(Te):this.queue=[],this._flush?this._flush(this,n):(Dr(this,n),Bt(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;P(L(n),s=>r[s].stop(!!t))}else Ce(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(m.und(t))this.start({pause:!0});else{const n=this.springs;P(L(t),r=>n[r].pause())}return this}resume(t){if(m.und(t))this.start({pause:!1});else{const n=this.springs;P(L(t),r=>n[r].resume())}return this}each(t){Z(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,s=this._active.size>0,i=this._changed.size>0;(s&&!this._started||i&&!this._started)&&(this._started=!0,_e(t,([u,a])=>{a.value=this.get(),u(a,this,this._item)}));const o=!s&&this._started,c=i||o&&r.size?this.get():null;i&&n.size&&_e(n,([u,a])=>{a.value=c,u(a,this,this._item)}),o&&(this._started=!1,_e(r,([u,a])=>{a.value=c,u(a,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;S.onFrame(this._onFrame)}}function Bt(e,t){return Promise.all(t.map(n=>Nr(e,n))).then(n=>cn(e,n))}async function Nr(e,t,n){const{keys:r,to:s,from:i,loop:o,onRest:c,onResolve:u}=t,a=m.obj(t.default)&&t.default;o&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const l=m.arr(s)||m.fun(s)?s:void 0;l?(t.to=void 0,t.onRest=void 0,a&&(a.onRest=void 0)):P(ci,y=>{const p=t[y];if(m.fun(p)){const b=e._events[y];t[y]=({finished:v,cancelled:R})=>{const _=b.get(p);_?(v||(_.finished=!1),R&&(_.cancelled=!0)):b.set(p,{value:null,finished:v||!1,cancelled:R||!1})},a&&(a[y]=t[y])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,be(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(y=>e.springs[y].start(t)),g=t.cancel===!0||Cr(t,"cancel")===!0;(l||g&&f.asyncId)&&d.push(Ir(++e._lastAsyncId,{props:t,state:f,actions:{pause:$t,resume:$t,start(y,p){g?(Ce(f,e._lastAsyncId),p(le(e))):(y.onRest=c,p(qr(l,y,f,e)))}}})),f.paused&&await new Promise(y=>{f.resumeQueue.add(y)});const h=cn(e,await Promise.all(d));if(o&&h.finished&&!(n&&h.noop)){const y=$r(t,o,s);if(y)return Dr(e,[y]),Nr(e,y,!0)}return u&&S.batchedUpdates(()=>u(h,e,e.item)),h}function jn(e,t){const n=I({},e.springs);return t&&P(L(t),r=>{m.und(r.keys)&&(r=Te(r)),m.obj(r.to)||(r=I({},r,{to:void 0})),Lr(n,r,s=>Vr(s))}),Mr(e,n),n}function Mr(e,t){Z(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,pe(n,e))})}function Vr(e,t){const n=new oi;return n.key=e,t&&pe(n,t),n}function Lr(e,t,n){t.keys&&P(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Dr(e,t){P(t,n=>{Lr(e.springs,n,r=>Vr(r,e))})}function di(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const hi=["children"],et=e=>{let{children:t}=e,n=di(e,hi);const r=x.useContext(Be),s=n.pause||!!r.pause,i=n.immediate||!!r.immediate;n=Vs(()=>({pause:s,immediate:i}),[s,i]);const{Provider:o}=Be;return x.createElement(o,{value:n},t)},Be=pi(et,{});et.Provider=Be.Provider;et.Consumer=Be.Consumer;function pi(e,t){return Object.assign(e,x.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}const mi=()=>{const e=[],t=function(s){Ns();const i=[];return P(e,(o,c)=>{if(m.und(s))i.push(o.start());else{const u=n(s,o,c);u&&i.push(o.start(u))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return P(e,r=>r.pause(...arguments)),this},t.resume=function(){return P(e,r=>r.resume(...arguments)),this},t.set=function(r){P(e,s=>s.set(r))},t.start=function(r){const s=[];return P(e,(i,o)=>{if(m.und(r))s.push(i.start());else{const c=this._getProps(r,i,o);c&&s.push(i.start(c))}}),s},t.stop=function(){return P(e,r=>r.stop(...arguments)),this},t.update=function(r){return P(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(s,i,o){return m.fun(s)?s(o,i):s};return t._getProps=n,t};function gi(e,t,n){const r=m.fun(t)&&t;r&&!n&&(n=[]);const s=x.useMemo(()=>r||arguments.length==3?mi():void 0,[]),i=x.useRef(0),o=kr(),c=x.useMemo(()=>({ctrls:[],queue:[],flush(b,v){const R=jn(b,v);return i.current>0&&!c.queue.length&&!Object.keys(R).some(E=>!b.springs[E])?Bt(b,v):new Promise(E=>{Mr(b,R),c.queue.push(()=>{E(Bt(b,v))}),o()})}}),[]),u=x.useRef([...c.ctrls]),a=[],l=_n(e)||0;x.useMemo(()=>{P(u.current.slice(e,l),b=>{Js(b,s),b.stop(!0)}),u.current.length=e,f(l,e)},[e]),x.useMemo(()=>{f(0,Math.min(l,e))},n);function f(b,v){for(let R=b;R<v;R++){const _=u.current[R]||(u.current[R]=new li(null,c.flush)),E=r?r(R,_):t[R];E&&(a[R]=ai(E))}}const d=u.current.map((b,v)=>jn(b,a[v])),g=x.useContext(et),h=_n(g),y=g!==h&&Xs(g);sn(()=>{i.current++,c.ctrls=u.current;const{queue:b}=c;b.length&&(c.queue=[],P(b,v=>v())),P(u.current,(v,R)=>{s?.add(v),y&&v.start({default:g});const _=a[R];_&&(ei(v,_.ref),v.ref?v.queue.push(_):v.start(_))})}),Er(()=>()=>{P(c.ctrls,b=>b.stop(!0))});const p=d.map(b=>I({},b));return s?[p,s]:p}function Ur(e,t){const n=m.fun(e),[[r],s]=gi(1,n?e:[e],n?[]:t);return n||arguments.length==2?[r,s]:r}let qn;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(qn||(qn={}));class yi extends fn{constructor(t,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=Pe(...n);const r=this._get(),s=Vt(r);on(this,s.create(r))}advance(t){const n=this._get(),r=this.get();ee(n,r)||(H(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&Fn(this._active)&&ct(this)}_get(){const t=m.arr(this.source)?this.source.map(q):L(q(this.source));return this.calc(...t)}_start(){this.idle&&!Fn(this._active)&&(this.idle=!1,P(Xe(this),t=>{t.done=!1}),X.skipAnimation?(S.batchedUpdates(()=>this.advance()),ct(this)):Ye.start(this))}_attach(){let t=1;P(L(this.source),n=>{U(n)&&pe(n,this),Ut(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){P(L(this.source),t=>{U(t)&&Ee(t,this)}),this._active.clear(),ct(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=L(this.source).reduce((n,r)=>Math.max(n,(Ut(r)?r.priority:0)+1),0))}}function vi(e){return e.idle!==!1}function Fn(e){return!e.size||Array.from(e).every(vi)}function ct(e){e.idle||(e.idle=!0,P(Xe(e),t=>{t.done=!0}),ke(e,{type:"idle",parent:e}))}X.assign({createStringInterpolator:Sr,to:(e,t)=>new yi(e,t)});function ln(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const xi=["style","children","scrollTop","scrollLeft","viewBox"],zr=/^--/;function bi(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!zr.test(e)&&!(Se.hasOwnProperty(e)&&Se[e])?t+"px":(""+t).trim()}const $n={};function _i(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",r=t,{style:s,children:i,scrollTop:o,scrollLeft:c,viewBox:u}=r,a=ln(r,xi),l=Object.values(a),f=Object.keys(a).map(d=>n||e.hasAttribute(d)?d:$n[d]||($n[d]=d.replace(/([A-Z])/g,g=>"-"+g.toLowerCase())));i!==void 0&&(e.textContent=i);for(let d in s)if(s.hasOwnProperty(d)){const g=bi(d,s[d]);zr.test(d)?e.style.setProperty(d,g):e.style[d]=g}f.forEach((d,g)=>{e.setAttribute(d,l[g])}),o!==void 0&&(e.scrollTop=o),c!==void 0&&(e.scrollLeft=c),u!==void 0&&e.setAttribute("viewBox",u)}let Se={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const wi=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Ri=["Webkit","Ms","Moz","O"];Se=Object.keys(Se).reduce((e,t)=>(Ri.forEach(n=>e[wi(n,t)]=e[t]),e),Se);const Si=["x","y","z"],Pi=/^(matrix|translate|scale|rotate|skew)/,ki=/^(translate)/,Ei=/^(rotate|skew)/,ft=(e,t)=>m.num(e)&&e!==0?e+t:e,Ve=(e,t)=>m.arr(e)?e.every(n=>Ve(n,t)):m.num(e)?e===t:parseFloat(e)===t;class Oi extends Je{constructor(t){let{x:n,y:r,z:s}=t,i=ln(t,Si);const o=[],c=[];(n||r||s)&&(o.push([n||0,r||0,s||0]),c.push(u=>[`translate3d(${u.map(a=>ft(a,"px")).join(",")})`,Ve(u,0)])),Z(i,(u,a)=>{if(a==="transform")o.push([u||""]),c.push(l=>[l,l===""]);else if(Pi.test(a)){if(delete i[a],m.und(u))return;const l=ki.test(a)?"px":Ei.test(a)?"deg":"";o.push(L(u)),c.push(a==="rotate3d"?([f,d,g,h])=>[`rotate3d(${f},${d},${g},${ft(h,l)})`,Ve(h,0)]:f=>[`${a}(${f.map(d=>ft(d,l)).join(",")})`,Ve(f,a.startsWith("scale")?1:0)])}}),o.length&&(i.transform=new Ai(o,c)),super(i)}}class Ai extends _r{constructor(t,n){super(),this._value=null,this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return P(this.inputs,(r,s)=>{const i=q(r[0]),[o,c]=this.transforms[s](m.arr(i)?i:r.map(q));t+=" "+o,n=n&&c}),n?"none":t}observerAdded(t){t==1&&P(this.inputs,n=>P(n,r=>U(r)&&pe(r,this)))}observerRemoved(t){t==0&&P(this.inputs,n=>P(n,r=>U(r)&&Ee(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),ke(this,t)}}const Ci=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ti=["scrollTop","scrollLeft"];X.assign({batchedUpdates:lr.unstable_batchedUpdates,createStringInterpolator:Sr,colors:ms});const Ii=Qs(Ci,{applyAnimatedValues:_i,createAnimatedStyle:e=>new Oi(e),getComponentProps:e=>ln(e,Ti)}),Wt=Ii.animated;function ji(e){return(typeof e=="function"?e():e)||document.body}function qi(e,t){if(Qt&&e){const n=ji(e);return lr.createPortal(t,n)}return t}function Fi(e){const t=x.useRef(e);return e&&(t.current=!0),!!t.current}const $i=e=>Ni(e.active,e.forceRender,e.destroyOnClose)?e.children:null;function Ni(e,t,n){const r=Fi(e);return t||e?!0:r?!n:!1}const Mi={click:"onClick",touchstart:"onTouchStart"};function Vi(e,t){const n=Object.assign({},t.props);for(const r of e){const s=Mi[r];n[s]=function(i){var o,c;i.stopPropagation(),(c=(o=t.props)[s])===null||c===void 0||c.call(o,i)}}return C.cloneElement(t,n)}const lt="adm-mask",Li={default:.55,thin:.35,thick:.75},Di={black:"0, 0, 0",white:"255, 255, 255"},Ui={visible:!0,destroyOnClose:!1,forceRender:!1,color:"black",opacity:"default",disableBodyScroll:!0,getContainer:null,stopPropagation:["click"]},zi=e=>{const t=We(Ui,e),{locale:n}=Xr(),r=x.useRef(null);cs(r,t.visible&&t.disableBodyScroll);const s=x.useMemo(()=>{var l;const f=(l=Li[t.opacity])!==null&&l!==void 0?l:t.opacity,d=Di[t.color];return d?`rgba(${d}, ${f})`:t.color},[t.color,t.opacity]),[i,o]=x.useState(t.visible),c=ts(),{opacity:u}=Ur({opacity:t.visible?1:0,config:{precision:.01,mass:1,tension:250,friction:30,clamp:!0},onStart:()=>{o(!0)},onRest:()=>{var l,f;c.current||(o(t.visible),t.visible?(l=t.afterShow)===null||l===void 0||l.call(t):(f=t.afterClose)===null||f===void 0||f.call(t))}}),a=Vi(t.stopPropagation,Yt(t,C.createElement(Wt.div,{className:lt,ref:r,"aria-hidden":!0,style:Object.assign(Object.assign({},t.style),{background:s,opacity:u,display:i?void 0:"none"}),onClick:l=>{var f;l.target===l.currentTarget&&((f=t.onMaskClick)===null||f===void 0||f.call(t,l))}},t.onMaskClick&&C.createElement("div",{className:`${lt}-aria-button`,role:"button","aria-label":n.Mask.name,onClick:t.onMaskClick}),C.createElement("div",{className:`${lt}-content`},t.children))));return C.createElement($i,{active:i,forceRender:t.forceRender,destroyOnClose:t.destroyOnClose},qi(t.getContainer,a))};function Gi(e){return x.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),x.createElement("g",{id:"CheckOutline-CheckOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},x.createElement("g",{id:"CheckOutline-编组"},x.createElement("rect",{id:"CheckOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),x.createElement("path",{d:"M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z",id:"CheckOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}function Bi(e){return x.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),x.createElement("g",{id:"CloseOutline-CloseOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},x.createElement("g",{id:"CloseOutline-编组"},x.createElement("rect",{id:"CloseOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),x.createElement("path",{d:"M10.6085104,8.11754663 L24.1768397,21.8195031 L24.1768397,21.8195031 L37.7443031,8.1175556 C37.8194278,8.04168616 37.9217669,7.999 38.0285372,7.999 L41.1040268,7.999 C41.3249407,7.999 41.5040268,8.1780861 41.5040268,8.399 C41.5040268,8.50440471 41.4624226,8.60554929 41.3882578,8.68044752 L26.2773302,23.9408235 L26.2773302,23.9408235 L41.5021975,39.3175645 C41.65763,39.4745475 41.6563731,39.7278104 41.4993901,39.8832429 C41.4244929,39.9574004 41.3233534,39.999 41.2179546,39.999 L38.1434012,39.999 C38.0366291,39.999 37.9342885,39.9563124 37.8591634,39.8804408 L24.1768397,26.0621438 L24.1768397,26.0621438 L10.4936501,39.8804497 C10.4185257,39.9563159 10.3161889,39.999 10.2094212,39.999 L7.13584526,39.999 C6.91493136,39.999 6.73584526,39.8199139 6.73584526,39.599 C6.73584526,39.4936017 6.77744443,39.3924627 6.85160121,39.3175656 L22.0763492,23.9408235 L22.0763492,23.9408235 L6.96554081,8.68044639 C6.81010226,8.52346929 6.81134951,8.27020637 6.9683266,8.11476782 C7.04322474,8.04060377 7.14436883,7.999 7.24977299,7.999 L10.3242852,7.999 C10.4310511,7.999 10.5333863,8.04168267 10.6085104,8.11754663 Z",id:"CloseOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}var M={},Nn;function Wi(){if(Nn)return M;Nn=1,Object.defineProperty(M,"__esModule",{value:!0}),M.call=i,M.default=void 0,M.note=r,M.noteOnce=c,M.preMessage=void 0,M.resetWarned=s,M.warning=n,M.warningOnce=o;var e={},t=M.preMessage=function(a){};function n(u,a){}function r(u,a){}function s(){e={}}function i(u,a,l){!a&&!e[l]&&(u(!1,l),e[l]=!0)}function o(u,a){i(n,u,a)}function c(u,a){i(r,u,a)}return o.preMessage=t,o.resetWarned=s,o.noteOnce=c,M.default=o,M}Wi();var ie={},dt={exports:{}},ht={exports:{}},Mn;function qe(){return Mn||(Mn=1,(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(ht)),ht.exports}var Vn;function Qi(){return Vn||(Vn=1,(function(e){var t=qe().default;function n(r,s){if(typeof WeakMap=="function")var i=new WeakMap,o=new WeakMap;return(e.exports=n=function(u,a){if(!a&&u&&u.__esModule)return u;var l,f,d={__proto__:null,default:u};if(u===null||t(u)!="object"&&typeof u!="function")return d;if(l=a?o:i){if(l.has(u))return l.get(u);l.set(u,d)}for(var g in u)g!=="default"&&{}.hasOwnProperty.call(u,g)&&((f=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(u,g))&&(f.get||f.set)?l(d,g,f):d[g]=u[g]);return d},e.exports.__esModule=!0,e.exports.default=e.exports)(r,s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(dt)),dt.exports}var pt={exports:{}},Ln;function Yi(){return Ln||(Ln=1,(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(pt)),pt.exports}var mt={exports:{}},gt={exports:{}},Dn;function Gr(){return Dn||(Dn=1,(function(e){function t(n,r){this.v=n,this.k=r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(gt)),gt.exports}var yt={exports:{}},vt={exports:{}},Un;function Br(){return Un||(Un=1,(function(e){function t(n,r,s,i){var o=Object.defineProperty;try{o({},"",{})}catch{o=0}e.exports=t=function(u,a,l,f){function d(g,h){t(u,g,function(y){return this._invoke(g,h,y)})}a?o?o(u,a,{value:l,enumerable:!f,configurable:!f,writable:!f}):u[a]=l:(d("next",0),d("throw",1),d("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r,s,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(vt)),vt.exports}var zn;function Wr(){return zn||(zn=1,(function(e){var t=Br();function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,s,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",c=i.toStringTag||"@@toStringTag";function u(p,b,v,R){var _=b&&b.prototype instanceof l?b:l,E=Object.create(_.prototype);return t(E,"_invoke",(function(T,Q,j){var k,w,A,O=0,F=j||[],Y=!1,D={p:0,n:0,v:r,a:Fe,f:Fe.bind(r,4),d:function($,K){return k=$,w=0,A=r,D.n=K,a}};function Fe(G,$){for(w=G,A=$,s=0;!Y&&O&&!K&&s<F.length;s++){var K,N=F[s],nt=D.p,$e=N[2];G>3?(K=$e===$)&&(A=N[(w=N[4])?5:(w=3,3)],N[4]=N[5]=r):N[0]<=nt&&((K=G<2&&nt<N[1])?(w=0,D.v=$,D.n=N[1]):nt<$e&&(K=G<3||N[0]>$||$>$e)&&(N[4]=G,N[5]=$,D.n=$e,w=0))}if(K||G>1)return a;throw Y=!0,$}return function(G,$,K){if(O>1)throw TypeError("Generator is already running");for(Y&&$===1&&Fe($,K),w=$,A=K;(s=w<2?r:A)||!Y;){k||(w?w<3?(w>1&&(D.n=-1),Fe(w,A)):D.n=A:D.v=A);try{if(O=2,k){if(w||(G="next"),s=k[G]){if(!(s=s.call(k,A)))throw TypeError("iterator result is not an object");if(!s.done)return s;A=s.value,w<2&&(w=0)}else w===1&&(s=k.return)&&s.call(k),w<2&&(A=TypeError("The iterator does not provide a '"+G+"' method"),w=1);k=r}else if((s=(Y=D.n<0)?A:T.call(Q,D))!==a)break}catch(N){k=r,w=1,A=N}finally{O=1}}return{value:s,done:Y}}})(p,v,R),!0),E}var a={};function l(){}function f(){}function d(){}s=Object.getPrototypeOf;var g=[][o]?s(s([][o]())):(t(s={},o,function(){return this}),s),h=d.prototype=l.prototype=Object.create(g);function y(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,d):(p.__proto__=d,t(p,c,"GeneratorFunction")),p.prototype=Object.create(h),p}return f.prototype=d,t(h,"constructor",d),t(d,"constructor",f),f.displayName="GeneratorFunction",t(d,c,"GeneratorFunction"),t(h),t(h,c,"Generator"),t(h,o,function(){return this}),t(h,"toString",function(){return"[object Generator]"}),(e.exports=n=function(){return{w:u,m:y}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(yt)),yt.exports}var xt={exports:{}},bt={exports:{}},_t={exports:{}},Gn;function Qr(){return Gn||(Gn=1,(function(e){var t=Gr(),n=Br();function r(s,i){function o(u,a,l,f){try{var d=s[u](a),g=d.value;return g instanceof t?i.resolve(g.v).then(function(h){o("next",h,l,f)},function(h){o("throw",h,l,f)}):i.resolve(g).then(function(h){d.value=h,l(d)},function(h){return o("throw",h,l,f)})}catch(h){f(h)}}var c;this.next||(n(r.prototype),n(r.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),n(this,"_invoke",function(u,a,l){function f(){return new i(function(d,g){o(u,l,d,g)})}return c=c?c.then(f,f):f()},!0)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(_t)),_t.exports}var Bn;function Yr(){return Bn||(Bn=1,(function(e){var t=Wr(),n=Qr();function r(s,i,o,c,u){return new n(t().w(s,i,o,c),u||Promise)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(bt)),bt.exports}var Wn;function Ki(){return Wn||(Wn=1,(function(e){var t=Yr();function n(r,s,i,o,c){var u=t(r,s,i,o,c);return u.next().then(function(a){return a.done?a.value:u.next()})}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(xt)),xt.exports}var wt={exports:{}},Qn;function Hi(){return Qn||(Qn=1,(function(e){function t(n){var r=Object(n),s=[];for(var i in r)s.unshift(i);return function o(){for(;s.length;)if((i=s.pop())in r)return o.value=i,o.done=!1,o;return o.done=!0,o}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(wt)),wt.exports}var Rt={exports:{}},Yn;function Zi(){return Yn||(Yn=1,(function(e){var t=qe().default;function n(r){if(r!=null){var s=r[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],i=0;if(s)return s.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length))return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}}}throw new TypeError(t(r)+" is not iterable")}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Rt)),Rt.exports}var Kn;function Xi(){return Kn||(Kn=1,(function(e){var t=Gr(),n=Wr(),r=Ki(),s=Yr(),i=Qr(),o=Hi(),c=Zi();function u(){var a=n(),l=a.m(u),f=(Object.getPrototypeOf?Object.getPrototypeOf(l):l.__proto__).constructor;function d(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===f||(p.displayName||p.name)==="GeneratorFunction")}var g={throw:1,return:2,break:3,continue:3};function h(y){var p,b;return function(v){p||(p={stop:function(){return b(v.a,2)},catch:function(){return v.v},abrupt:function(_,E){return b(v.a,g[_],E)},delegateYield:function(_,E,T){return p.resultName=E,b(v.d,c(_),T)},finish:function(_){return b(v.f,_)}},b=function(_,E,T){v.p=p.prev,v.n=p.next;try{return _(E,T)}finally{p.next=v.n}}),p.resultName&&(p[p.resultName]=v.v,p.resultName=void 0),p.sent=v.v,p.next=v.n;try{return y.call(this,p)}finally{v.p=p.prev,v.n=p.next}}}return(e.exports=u=function(){return{wrap:function(b,v,R,_){return a.w(h(b),v,R,_&&_.reverse())},isGeneratorFunction:d,mark:a.m,awrap:function(b,v){return new t(b,v)},AsyncIterator:i,async:function(b,v,R,_,E){return(d(v)?s:r)(h(b),v,R,_,E)},keys:o,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports})(mt)),mt.exports}var St={exports:{}},Hn;function Ji(){return Hn||(Hn=1,(function(e){function t(r,s,i,o,c,u,a){try{var l=r[u](a),f=l.value}catch(d){return void i(d)}l.done?s(f):Promise.resolve(f).then(o,c)}function n(r){return function(){var s=this,i=arguments;return new Promise(function(o,c){var u=r.apply(s,i);function a(f){t(u,o,c,a,l,"next",f)}function l(f){t(u,o,c,a,l,"throw",f)}a(void 0)})}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(St)),St.exports}var Pt={exports:{}},kt={exports:{}},Et={exports:{}},Ot={exports:{}},Zn;function eo(){return Zn||(Zn=1,(function(e){var t=qe().default;function n(r,s){if(t(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Ot)),Ot.exports}var Xn;function to(){return Xn||(Xn=1,(function(e){var t=qe().default,n=eo();function r(s){var i=n(s,"string");return t(i)=="symbol"?i:i+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Et)),Et.exports}var Jn;function no(){return Jn||(Jn=1,(function(e){var t=to();function n(r,s,i){return(s=t(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i,r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(kt)),kt.exports}var er;function ro(){return er||(er=1,(function(e){var t=no();function n(s,i){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);i&&(c=c.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),o.push.apply(o,c)}return o}function r(s){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?n(Object(o),!0).forEach(function(c){t(s,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(o,c))})}return s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Pt)),Pt.exports}var tr;function so(){if(tr)return ie;tr=1;var e=Qi().default,t=Yi().default;Object.defineProperty(ie,"__esModule",{value:!0}),ie._r=b,ie._u=T,ie.render=v,ie.unmount=Q;var n=t(Xi()),r=t(Ji()),s=t(qe()),i=t(ro()),o=e(fr()),c=(0,i.default)({},o),u=c.version,a=c.render,l=c.unmountComponentAtNode,f;try{var d=Number((u||"").split(".")[0]);d>=18&&(f=c.createRoot)}catch{}function g(k){var w=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;w&&(0,s.default)(w)==="object"&&(w.usingClientEntryPoint=k)}var h="__rc_react_root__";function y(k,w){g(!0);var A=w[h]||f(w);g(!1),A.render(k),w[h]=A}function p(k,w){a?.(k,w)}function b(k,w){}function v(k,w){if(f){y(k,w);return}p(k,w)}function R(k){return _.apply(this,arguments)}function _(){return _=(0,r.default)((0,n.default)().mark(function k(w){return(0,n.default)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Promise.resolve().then(function(){var F;(F=w[h])===null||F===void 0||F.unmount(),delete w[h]}));case 1:case"end":return O.stop()}},k)})),_.apply(this,arguments)}function E(k){l(k)}function T(k){}function Q(k){return j.apply(this,arguments)}function j(){return j=(0,r.default)((0,n.default)().mark(function k(w){return(0,n.default)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(f===void 0){O.next=2;break}return O.abrupt("return",R(w));case 2:E(w);case 3:case"end":return O.stop()}},k)})),j.apply(this,arguments)}return ie}var nr=so();const io=(e,t)=>(nr.render(e,t),()=>nr.unmount(t));let oo=io;function ao(e){return oo}function uo(e){const t=document.createElement("div");return document.body.appendChild(t),ao()(e,t)}function rr(e){const t=C.forwardRef((s,i)=>{const[o,c]=x.useState(!1),u=x.useRef(!1),[a,l]=x.useState(e),f=x.useRef(0);x.useEffect(()=>{u.current?g():c(!0)},[]);function d(){var h,y;u.current=!0,c(!1),(y=(h=a.props).onClose)===null||y===void 0||y.call(h)}function g(){var h,y;r(),(y=(h=a.props).afterClose)===null||y===void 0||y.call(h)}return x.useImperativeHandle(i,()=>({close:d,replace:h=>{var y,p;f.current++,(p=(y=a.props).afterClose)===null||p===void 0||p.call(y),l(h)}})),C.cloneElement(a,Object.assign(Object.assign({},a.props),{key:f.current,visible:o,onClose:d,afterClose:g}))}),n=C.createRef(),r=uo(C.createElement(t,{ref:n}));return{close:()=>Jr(this,void 0,void 0,function*(){var s,i,o;n.current?(o=n.current)===null||o===void 0||o.close():(r(),(i=(s=e.props).afterClose)===null||i===void 0||i.call(s))}),replace:s=>{var i;(i=n.current)===null||i===void 0||i.replace(s)},isRendered:()=>!!n.current}}const sr="adm-auto-center",co=e=>Yt(e,C.createElement("div",{className:sr},C.createElement("div",{className:`${sr}-content`},e.children)));var At={exports:{}},Ct={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir;function fo(){if(ir)return Ct;ir=1;var e=Zr();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(f,d){var g=d(),h=r({inst:{value:g,getSnapshot:d}}),y=h[0].inst,p=h[1];return i(function(){y.value=g,y.getSnapshot=d,u(y)&&p({inst:y})},[f,g,d]),s(function(){return u(y)&&p({inst:y}),f(function(){u(y)&&p({inst:y})})},[f]),o(g),g}function u(f){var d=f.getSnapshot;f=f.value;try{var g=d();return!n(f,g)}catch{return!0}}function a(f,d){return d()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a:c;return Ct.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,Ct}var or;function lo(){return or||(or=1,At.exports=fo()),At.exports}var ho=lo();let po=!1;const ar=new Set;function ur(){return po}function mo(e){return ar.add(e),()=>{ar.delete(e)}}function go(){return ho.useSyncExternalStore(mo,ur,ur)}const Tt="adm-spin-loading",yo={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},vo={color:"default"},xo=15*3.14159265358979*2,bo=x.memo(e=>{var t;const n=We(vo,e),r=go(),{percent:s}=Ur({cancel:r,loop:{reverse:!0},from:{percent:80},to:{percent:30},config:{duration:1200}});return Yt(n,C.createElement(Wt.div,{className:Tt,style:{"--color":(t=yo[n.color])!==null&&t!==void 0?t:n.color,"--percent":s}},C.createElement("svg",{className:`${Tt}-svg`,viewBox:"0 0 32 32"},C.createElement(Wt.circle,{className:`${Tt}-fill`,fill:"transparent",strokeWidth:"2",strokeDasharray:xo,strokeDashoffset:s,strokeLinecap:"square",r:15,cx:16,cy:16}))))}),J="adm-toast",_o={maskClickable:!0,stopPropagation:["click"]},wo=e=>{const t=We(_o,e),{maskClickable:n,content:r,icon:s,position:i}=t,o=x.useMemo(()=>{if(s==null)return null;switch(s){case"success":return C.createElement(Gi,{className:`${J}-icon-success`});case"fail":return C.createElement(Bi,{className:`${J}-icon-fail`});case"loading":return C.createElement(bo,{color:"white",className:`${J}-loading`});default:return s}},[s]),c=x.useMemo(()=>{switch(i){case"top":return"20%";case"bottom":return"80%";default:return"50%"}},[i]);return C.createElement(zi,{visible:t.visible,destroyOnClose:!0,opacity:0,disableBodyScroll:!n,getContainer:t.getContainer,afterClose:t.afterClose,style:Object.assign({pointerEvents:n?"none":"auto"},t.maskStyle),className:rt(`${J}-mask`,t.maskClassName),stopPropagation:t.stopPropagation},C.createElement("div",{className:rt(`${J}-wrap`)},C.createElement("div",{style:{top:c},className:rt(`${J}-main`,s?`${J}-main-icon`:`${J}-main-text`)},o&&C.createElement("div",{className:`${J}-icon`},o),C.createElement(co,null,r))))};let V=null,It=null;const Le={duration:2e3,position:"center",maskClickable:!0},Ro=e=>C.createElement(wo,Object.assign({},e));function So(e){var t;const n=We(Le,typeof e=="string"?{content:e}:e),r=C.createElement(Ro,Object.assign({},n,{onClose:()=>{V=null}}));return V?!((t=V.isRendered)===null||t===void 0)&&t.call(V)?V.replace(r):(V.close(),V=rr(r)):V=rr(r),It&&window.clearTimeout(It),n.duration!==0&&(It=window.setTimeout(()=>{Kr()},n.duration)),V}function Kr(){V?.close(),V=null}function Po(e){e.duration!==void 0&&(Le.duration=e.duration),e.position!==void 0&&(Le.position=e.position),e.maskClickable!==void 0&&(Le.maskClickable=e.maskClickable)}const cr={show:So,clear:Kr,config:Po},ko=e=>tt.post("/auth/login",e),Eo=e=>tt.post("/auth/register",e),Oo=e=>tt.post("/auth/refresh",{refreshToken:e}),Ao=()=>tt.post("/auth/profile"),Mo=(e,t)=>{const n=new Uint8Array(4);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=new Uint32Array(1),s=new TextEncoder().encode(e);r[0]=s.length;const i=new Uint8Array(n.length+4+s.length);return i.set(n,0),i[4]=r[0]>>24&255,i[5]=r[0]>>16&255,i[6]=r[0]>>8&255,i[7]=r[0]&255,i.set(s,8),i.buffer},Vo=e=>{const t=new Uint8Array(e,0,4),n=new Uint8Array(e,4,4),r=new Uint8Array(e,8);let s="";for(let c=0;c<t.length;c++)s+=String.fromCharCode(t[c]);const i=n[0]<<24|n[1]<<16|n[2]<<8|n[3],o=new TextDecoder().decode(r.subarray(0,i));return{type:s,value:o}},Lo=e=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(e);function Do(e){if(e.length<8||e.length>16)return!1;const t=/[a-zA-Z]/.test(e),n=/\d/.test(e),r=/[^a-zA-Z0-9]/.test(e);return t||n||r}const Co=e=>!e.trim(),To=e=>!Co(e);class Io{accessToken;refreshToken;constructor(){this.accessToken=null,this.refreshToken=localStorage.getItem("refreshToken"),this.refreshToken?setTimeout(()=>{this.refreshAccessToken().then(()=>{this.getUserInfo().then(t=>{st.dispatch(dn(t))})})},0):window.location.href="/#/login"}async getUserInfo(){return await Ao()}async login(t){const n=await ko(t);return this.afterLogin(n)}async register(t){const n=await Eo(t);return this.afterLogin(n)}afterLogin(t){return this.accessToken=t.access_token,this.refreshToken=t.refresh_token,localStorage.setItem("refreshToken",t.refresh_token),st.dispatch(dn(t.user)),st.dispatch(es({isLogin:!0})),t}async refreshAccessToken(){if(!this.refreshToken)throw new Error("No refresh token available");const t=await Oo(this.refreshToken);return this.accessToken=t.access_token,t.access_token}getAccessToken(){return this.accessToken}getRefreshToken(){return this.refreshToken}getIsLogin(){return this.refreshToken!==null&&To(this.refreshToken)}logout(){this.accessToken=null,this.refreshToken=null,localStorage.removeItem("refreshToken")}}const jt=new Io;class jo{client;constructor(t){this.client=Hr.create({baseURL:t,timeout:1e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(n=>{const r=jt.getAccessToken();return r&&(n.headers.Authorization=`Bearer ${r}`),n},n=>Promise.reject(n)),this.client.interceptors.response.use(n=>n.data.code!==200?Promise.reject(new Error(n.data.message)):n.data.data,n=>n.response?.status===401?(console.log(n.config.url),n.config.url==="/auth/refresh"?(jt.logout(),window.location.href="/#/login",cr.show({icon:"!",content:"登录过期，请重新登录",duration:1e3}),Promise.reject(n)):jt.refreshAccessToken().then(r=>r?(n.config.headers.Authorization=`Bearer ${r}`,this.client(n.config)):Promise.reject(n))):(n.response?.status===400&&cr.show({icon:"!",content:n.response.data.message,duration:1e3}),Promise.reject(n)))}async request(t){return await this.client.request(t)}async get(t,n){return this.request({method:"GET",url:t,params:n})}async post(t,n){return this.request({method:"POST",url:t,data:n})}async put(t,n){return this.request({method:"PUT",url:t,data:n})}async delete(t,n){return this.request({method:"DELETE",url:t,params:n})}}const tt=new jo("https://api.aibanyou.top/api/v1/usr/");export{Gi as C,zi as M,bo as S,cr as T,Bi as a,jt as b,tt as c,Do as d,Lo as i,Mo as s,Vo as t};
