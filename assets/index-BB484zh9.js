import{j as e}from"./index-C7R3IaCj.js";import{l as h}from"./logo-CiLQncpc.js";import{L as x,p as v,U as j,q as f,E as N,r as w,B as C,a as i}from"./ui-vendor-B_BG4PkP.js";import{a as l,u as T}from"./core-vendor-BY2yH0eA.js";import{a as c,i as b,c as F}from"./index-DQn4vhZc.js";import"./store-vendor-BtW7VYLY.js";import"./rtc-vendor-Co3qY2HD.js";import"./utils-vendor-NIGUFBhG.js";const B="_loginPage_1pltd_1",k="_loginContainer_1pltd_4",y="_topNav_1pltd_13",P="_navContent_1pltd_20",E="_backButton_1pltd_25",I="_title_1pltd_36",G="_placeholder_1pltd_42",L="_formContainer_1pltd_45",S="_formWrapper_1pltd_53",W="_header_1pltd_53",z="_iconContainer_1pltd_57",O="_welcomeText_1pltd_73",V="_subText_1pltd_79",A="_loginForm_1pltd_82",R="_inputGroup_1pltd_88",U="_inputIcon_1pltd_92",q="_passwordToggle_1pltd_103",D="_inputField_1pltd_113",H="_loginButton_1pltd_147",s={loginPage:B,loginContainer:k,topNav:y,navContent:P,backButton:E,title:I,placeholder:G,formContainer:L,formWrapper:S,header:W,iconContainer:z,welcomeText:O,subText:V,loginForm:A,inputGroup:R,inputIcon:U,passwordToggle:q,inputField:D,loginButton:H},ee=()=>{const[t,d]=l.useState({email:"",password:"",verifyCode:""}),[o,p]=l.useState(!1),n=T(),m=()=>{p(!o)},r=a=>{const{name:_,value:g}=a.target;d({...t,[_]:g})},u=()=>{if(!t.email||!b(t.email)){i.show({icon:"!",content:"请输入正确格式的邮箱",duration:1e3});return}if(!t.password||!F(t.password)){i.show({icon:"!",content:"密码需8-16位，包含字母、数字和特殊字符",duration:1e3});return}c.login({identifier:t.email,password:t.password}).then(a=>{a&&(i.show({icon:"success",content:"登录成功",duration:1e3}),n("/"))})};return l.useEffect(()=>{c.getRefreshToken()&&n("/")},[n]),e.jsx("div",{className:s.loginPage,id:"login-page",children:e.jsxs("div",{className:s.loginContainer,children:[e.jsx("div",{className:s.topNav,children:e.jsxs("div",{className:s.navContent,children:[e.jsxs("div",{className:s.backButton,children:[e.jsx(x,{}),"返回"]}),e.jsx("h1",{className:s.title,children:"登录账号"}),e.jsx("div",{className:s.placeholder})]})}),e.jsx("div",{className:s.formContainer,children:e.jsxs("div",{className:s.formWrapper,children:[e.jsxs("div",{className:s.header,children:[e.jsx("div",{className:s.iconContainer,children:e.jsx(v,{src:h,style:{"--size":"64px"}})}),e.jsx("h2",{className:s.welcomeText,children:"欢迎使用万象镜"}),e.jsx("p",{className:s.subText,children:"登录后即可体验完整功能"})]}),e.jsxs("div",{className:s.loginForm,children:[e.jsxs("div",{className:s.inputGroup,children:[e.jsx("div",{className:s.inputIcon,children:e.jsx(j,{})}),e.jsx("input",{value:t.email,onChange:r,type:"email",name:"email",id:"email",placeholder:"请输入邮箱",className:s.inputField})]}),e.jsxs("div",{className:s.inputGroup,children:[e.jsx("div",{className:s.inputIcon,children:e.jsx(f,{})}),e.jsx("input",{value:t.password,onChange:r,type:o?"text":"password",name:"password",id:"password",placeholder:"请输入密码",className:s.inputField}),e.jsx("div",{className:s.passwordToggle,onClick:m,children:o?e.jsx(N,{fontSize:18}):e.jsx(w,{fontSize:18})})]}),e.jsx(C,{className:s.loginButton,block:!0,color:"primary",onClick:()=>u(),children:"登录"})]})]})})]})})};export{ee as default};
