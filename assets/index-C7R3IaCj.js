const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D0MRJBen.js","assets/ui-vendor-B_BG4PkP.js","assets/core-vendor-BY2yH0eA.js","assets/ui-vendor-BgLdAsEP.css","assets/logo-CiLQncpc.js","assets/store-vendor-BtW7VYLY.js","assets/rtc-vendor-Co3qY2HD.js","assets/index-Ch-75lBV.css","assets/index-lqmlGVSq.js","assets/index-tn0RQdqM.css","assets/index-yEtIOeJH.js","assets/rtc-BarK11XP.js","assets/index-DQn4vhZc.js","assets/utils-vendor-NIGUFBhG.js","assets/handler-D0bmgxbA.js","assets/index-DpHrQSq4.css","assets/index-OiAYNFy_.js","assets/index-BguohTXv.css","assets/index-qh_2uJ2h.js","assets/index-Ca7O4JlP.css","assets/index-BB484zh9.js","assets/index-xIbVtYQS.css"])))=>i.map(i=>d[i]);
import{r as He,c as Be,a as M,d as $e,e as qe}from"./core-vendor-BY2yH0eA.js";import{C as Je}from"./ui-vendor-B_BG4PkP.js";import{i as Ge,c as We,a as Qe,b as Z,d as Ke,e as Xe,P as Ve}from"./store-vendor-BtW7VYLY.js";import{N as Ye}from"./rtc-vendor-Co3qY2HD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var X={exports:{}},U={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de;function Ze(){if(de)return U;de=1;var e=He(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(c,u,l){var a,f={},d=null,S=null;l!==void 0&&(d=""+l),u.key!==void 0&&(d=""+u.key),u.ref!==void 0&&(S=u.ref);for(a in u)n.call(u,a)&&!o.hasOwnProperty(a)&&(f[a]=u[a]);if(c&&c.defaultProps)for(a in u=c.defaultProps,u)f[a]===void 0&&(f[a]=u[a]);return{$$typeof:t,type:c,key:d,ref:S,props:f,_owner:i.current}}return U.Fragment=r,U.jsx=s,U.jsxs=s,U}var me;function et(){return me||(me=1,X.exports=Ze()),X.exports}var C=et(),L={},pe;function tt(){if(pe)return L;pe=1;var e=Be();return L.createRoot=e.createRoot,L.hydrateRoot=e.hydrateRoot,L}var rt=tt();const nt="modulepreload",it=function(e){return"/"+e},ye={},x=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(l){return Promise.all(l.map(a=>Promise.resolve(a).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");i=u(r.map(l=>{if(l=it(l),l in ye)return;ye[l]=!0;const a=l.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":nt,a||(d.as="script"),d.crossOrigin="",d.href=l,c&&d.setAttribute("nonce",c),document.head.appendChild(d),a)return new Promise((S,E)=>{d.addEventListener("load",S),d.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},ot=M.lazy(()=>x(()=>import("./index-D0MRJBen.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),st=M.lazy(()=>x(()=>import("./index-lqmlGVSq.js"),__vite__mapDeps([8,2,1,3,5,6,9]))),ct=M.lazy(()=>x(()=>import("./index-yEtIOeJH.js"),__vite__mapDeps([10,2,1,3,5,11,12,13,14,6,15]))),at=M.lazy(()=>x(()=>import("./index-OiAYNFy_.js"),__vite__mapDeps([16,11,12,13,1,2,3,5,6,14,4,17]))),ut=M.lazy(()=>x(()=>import("./index-qh_2uJ2h.js"),__vite__mapDeps([18,2,11,12,13,1,3,4,5,6,19]))),lt=M.lazy(()=>x(()=>import("./index-BB484zh9.js"),__vite__mapDeps([20,4,1,2,3,12,13,5,6,21]))),ft=$e([{path:"/",element:C.jsx(ot,{}),children:[{index:!0,element:C.jsx(st,{})},{path:"/permission",element:C.jsx(ct,{})}]},{path:"/room",element:C.jsx(at,{})},{path:"/preload",element:C.jsx(ut,{})},{path:"/login",element:C.jsx(lt,{})}],{basename:"/"});var ve=Symbol.for("immer-nothing"),he=Symbol.for("immer-draftable"),_=Symbol.for("immer-state");function P(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var A=Object.getPrototypeOf;function k(e){return!!e&&!!e[_]}function v(e){return e?Ee(e)||Array.isArray(e)||!!e[he]||!!e.constructor?.[he]||G(e)||W(e):!1}var dt=Object.prototype.constructor.toString();function Ee(e){if(!e||typeof e!="object")return!1;const t=A(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dt}function B(e,t){J(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function J(e){const t=e[_];return t?t.type_:Array.isArray(e)?1:G(e)?2:W(e)?3:0}function ee(e,t){return J(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function be(e,t,r){const n=J(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function G(e){return e instanceof Map}function W(e){return e instanceof Set}function T(e){return e.copy_||e.base_}function te(e,t){if(G(e))return new Map(e);if(W(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ee(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const s=i[o],c=n[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(A(e),n)}else{const n=A(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function se(e,t=!1){return Q(e)||k(e)||!v(e)||(J(e)>1&&(e.set=e.add=e.clear=e.delete=pt),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>se(n,!0))),e}function pt(){P(2)}function Q(e){return Object.isFrozen(e)}var yt={};function I(e){const t=yt[e];return t||P(0,e),t}var z;function Te(){return z}function ht(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _e(e,t){t&&(I("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function re(e){ne(e),e.drafts_.forEach(_t),e.drafts_=null}function ne(e){e===z&&(z=e.parent_)}function ge(e){return z=ht(z,e)}function _t(e){const t=e[_];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Se(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_].modified_&&(re(t),P(4)),v(e)&&(e=$(t,e),t.parent_||q(t,e)),t.patches_&&I("Patches").generateReplacementPatches_(r[_].base_,e,t.patches_,t.inversePatches_)):e=$(t,r,[]),re(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ve?e:void 0}function $(e,t,r){if(Q(t))return t;const n=t[_];if(!n)return B(t,(i,o)=>Pe(e,n,t,i,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return q(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,s=!1;n.type_===3&&(o=new Set(i),i.clear(),s=!0),B(o,(c,u)=>Pe(e,n,i,c,u,r,s)),q(e,i,!1),r&&e.patches_&&I("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Pe(e,t,r,n,i,o,s){if(k(i)){const c=o&&t&&t.type_!==3&&!ee(t.assigned_,n)?o.concat(n):void 0,u=$(e,i,c);if(be(r,n,u),k(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(v(i)&&!Q(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&q(e,i)}}function q(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&se(t,r)}function gt(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Te(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=ce;r&&(i=[n],o=N);const{revoke:s,proxy:c}=Proxy.revocable(i,o);return n.draft_=c,n.revoke_=s,c}var ce={get(e,t){if(t===_)return e;const r=T(e);if(!ee(r,t))return St(e,r,t);const n=r[t];return e.finalized_||!v(n)?n:n===V(e.base_,t)?(Y(e),e.copy_[t]=oe(n,e)):n},has(e,t){return t in T(e)},ownKeys(e){return Reflect.ownKeys(T(e))},set(e,t,r){const n=ke(T(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=V(T(e),t),o=i?.[_];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mt(r,i)&&(r!==void 0||ee(e.base_,t)))return!0;Y(e),ie(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return V(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Y(e),ie(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=T(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){P(11)},getPrototypeOf(e){return A(e.base_)},setPrototypeOf(){P(12)}},N={};B(ce,(e,t)=>{N[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});N.deleteProperty=function(e,t){return N.set.call(this,e,t,void 0)};N.set=function(e,t,r){return ce.set.call(this,e[0],t,r,e[0])};function V(e,t){const r=e[_];return(r?T(r):e)[t]}function St(e,t,r){const n=ke(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function ke(e,t){if(!(t in e))return;let r=A(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=A(r)}}function ie(e){e.modified_||(e.modified_=!0,e.parent_&&ie(e.parent_))}function Y(e){e.copy_||(e.copy_=te(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const s=this;return function(u=o,...l){return s.produce(u,a=>r.call(this,a,...l))}}typeof r!="function"&&P(6),n!==void 0&&typeof n!="function"&&P(7);let i;if(v(t)){const o=ge(this),s=oe(t,void 0);let c=!0;try{i=r(s),c=!1}finally{c?re(o):ne(o)}return _e(o,n),Se(i,o)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===ve&&(i=void 0),this.autoFreeze_&&se(i,!0),n){const o=[],s=[];I("Patches").generateReplacementPatches_(t,i,o,s),n(o,s)}return i}else P(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,u=>t(u,...c));let n,i;return[this.produce(t,r,(s,c)=>{n=s,i=c}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){v(e)||P(8),k(e)&&(e=wt(e));const t=ge(this),r=oe(e,void 0);return r[_].isManual_=!0,ne(t),r}finishDraft(e,t){const r=e&&e[_];(!r||!r.isManual_)&&P(9);const{scope_:n}=r;return _e(n,t),Se(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=I("Patches").applyPatches_;return k(e)?n(e,t):this.produce(e,i=>n(i,t))}};function oe(e,t){const r=G(e)?I("MapSet").proxyMap_(e,t):W(e)?I("MapSet").proxySet_(e,t):gt(e,t);return(t?t.scope_:Te()).drafts_.push(r),r}function wt(e){return k(e)||P(10,e),Ie(e)}function Ie(e){if(!v(e)||Q(e))return e;const t=e[_];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=te(e,t.scope_.immer_.useStrictShallowCopy_)}else r=te(e,!0);return B(r,(n,i)=>{be(r,n,Ie(i))}),t&&(t.finalized_=!1),r}var g=new Pt,Ae=g.produce;g.produceWithPatches.bind(g);g.setAutoFreeze.bind(g);g.setUseStrictShallowCopy.bind(g);g.applyPatches.bind(g);g.createDraft.bind(g);g.finishDraft.bind(g);function De(e){return({dispatch:r,getState:n})=>i=>o=>typeof o=="function"?o(r,n,e):i(o)}var Ct=De(),Rt=De,vt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Z:Z.apply(null,arguments)};function we(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(R(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Xe(n)&&n.type===e,r}var Me=class F extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,F.prototype)}static get[Symbol.species](){return F}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new F(...t[0].concat(this)):new F(...t.concat(this))}};function Ce(e){return v(e)?Ae(e,()=>{}):e}function j(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Et(e){return typeof e=="boolean"}var bt=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new Me;return r&&(Et(r)?s.push(Ct):s.push(Rt(r.extraArgument))),s},Tt="RTK_autoBatch",Re=e=>t=>{setTimeout(t,e)},kt=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,o=!1,s=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Re(10):e.type==="callback"?e.queueNotification:Re(e.timeout),l=()=>{s=!1,o&&(o=!1,c.forEach(a=>a()))};return Object.assign({},n,{subscribe(a){const f=()=>i&&a(),d=n.subscribe(f);return c.add(a),()=>{d(),c.delete(a)}},dispatch(a){try{return i=!a?.meta?.[Tt],o=!i,o&&(s||(s=!0,u(l))),n.dispatch(a)}finally{i=!0}}})},It=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Me(e);return n&&i.push(kt(typeof n=="object"?n:void 0)),i};function At(e){const t=bt(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Ge(r))c=We(r);else throw new Error(R(1));let u;typeof n=="function"?u=n(t):u=t();let l=Z;i&&(l=vt({trace:!1,...typeof i=="object"&&i}));const a=Qe(...u),f=It(a);let d=typeof s=="function"?s(f):f();const S=l(...d);return Ke(c,o,S)}function xe(e){const t={},r=[];let n;const i={addCase(o,s){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(R(28));if(c in t)throw new Error(R(29));return t[c]=s,i},addMatcher(o,s){return r.push({matcher:o,reducer:s}),i},addDefaultCase(o){return n=o,i}};return e(i),[t,r,n]}function Dt(e){return typeof e=="function"}function Mt(e,t){let[r,n,i]=xe(t),o;if(Dt(e))o=()=>Ce(e());else{const c=Ce(e);o=()=>c}function s(c=o(),u){let l=[r[u.type],...n.filter(({matcher:a})=>a(u)).map(({reducer:a})=>a)];return l.filter(a=>!!a).length===0&&(l=[i]),l.reduce((a,f)=>{if(f)if(k(a)){const S=f(a,u);return S===void 0?a:S}else{if(v(a))return Ae(a,d=>f(d,u));{const d=f(a,u);if(d===void 0){if(a===null)return a;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return a},c)}return s.getInitialState=o,s}var xt=Symbol.for("rtk-slice-createasyncthunk");function Ot(e,t){return`${e}/${t}`}function Ut({creators:e}={}){const t=e?.asyncThunk?.[xt];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(R(11));const s=(typeof n.reducers=="function"?n.reducers(zt()):n.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(m,p){const y=typeof m=="string"?m:m.type;if(!y)throw new Error(R(12));if(y in u.sliceCaseReducersByType)throw new Error(R(13));return u.sliceCaseReducersByType[y]=p,l},addMatcher(m,p){return u.sliceMatchers.push({matcher:m,reducer:p}),l},exposeAction(m,p){return u.actionCreators[m]=p,l},exposeCaseReducer(m,p){return u.sliceCaseReducersByName[m]=p,l}};c.forEach(m=>{const p=s[m],y={reducerName:m,type:Ot(i,m),createNotation:typeof n.reducers=="function"};Lt(p)?Ht(y,p,l,t):Nt(y,p,l)});function a(){const[m={},p=[],y=void 0]=typeof n.extraReducers=="function"?xe(n.extraReducers):[n.extraReducers],b={...m,...u.sliceCaseReducersByType};return Mt(n.initialState,w=>{for(let h in b)w.addCase(h,b[h]);for(let h of u.sliceMatchers)w.addMatcher(h.matcher,h.reducer);for(let h of p)w.addMatcher(h.matcher,h.reducer);y&&w.addDefaultCase(y)})}const f=m=>m,d=new Map,S=new WeakMap;let E;function ae(m,p){return E||(E=a()),E(m,p)}function K(){return E||(E=a()),E.getInitialState()}function ue(m,p=!1){function y(w){let h=w[m];return typeof h>"u"&&p&&(h=j(S,y,K)),h}function b(w=f){const h=j(d,p,()=>new WeakMap);return j(h,w,()=>{const fe={};for(const[Le,je]of Object.entries(n.selectors??{}))fe[Le]=Ft(je,w,()=>j(S,w,K),p);return fe})}return{reducerPath:m,getSelectors:b,get selectors(){return b(y)},selectSlice:y}}const le={name:i,reducer:ae,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:K,...ue(o),injectInto(m,{reducerPath:p,...y}={}){const b=p??o;return m.inject({reducerPath:b,reducer:ae},y),{...le,...ue(b,!0)}}};return le}}function Ft(e,t,r,n){function i(o,...s){let c=t(o);return typeof c>"u"&&n&&(c=r()),e(c,...s)}return i.unwrapped=e,i}var O=Ut();function zt(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Nt({type:e,reducerName:t,createNotation:r},n,i){let o,s;if("reducer"in n){if(r&&!jt(n))throw new Error(R(17));o=n.reducer,s=n.prepare}else o=n;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?we(e,s):we(e))}function Lt(e){return e._reducerDefinitionType==="asyncThunk"}function jt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ht({type:e,reducerName:t},r,n,i){if(!i)throw new Error(R(18));const{payloadCreator:o,fulfilled:s,pending:c,rejected:u,settled:l,options:a}=r,f=i(e,o,a);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),c&&n.addCase(f.pending,c),u&&n.addCase(f.rejected,u),l&&n.addMatcher(f.settled,l),n.exposeCaseReducer(t,{fulfilled:s||H,pending:c||H,rejected:u||H,settled:l||H})}function H(){}function R(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Bt={time:-1,scene:"",sceneConfigMap:{},rtcConfigMap:{},autoPlayFailUser:[],isJoined:!1,isAIGCEnable:!1,isAIThinking:!1,isAITalking:!1,isUserTalking:!1,msgHistory:[],currentConversation:{},isShowSubtitle:!0,isDisplaySubtitleByTimer:!1,isFullScreen:!1,customSceneName:""},D=O({name:"room",initialState:Bt,reducers:{localJoinRoom:(e,{payload:t})=>{e.roomId=t.roomId,e.isJoined=!0},localLeaveRoom:e=>{e.roomId=void 0,e.time=-1,e.isJoined=!1},updateScene:(e,{payload:t})=>{e.scene=t},updateSceneConfig:(e,{payload:t})=>{e.sceneConfigMap=t},updateRTCConfig:(e,{payload:t})=>{e.rtcConfigMap=t},updateRoomTime:(e,{payload:t})=>{e.time=t.time},addAutoPlayFail:(e,{payload:t})=>{e.autoPlayFailUser.findIndex(i=>i===t.userId)===-1&&e.autoPlayFailUser.push(t.userId)},removeAutoPlayFail:(e,{payload:t})=>{const n=e.autoPlayFailUser.filter(i=>i!==t.userId);e.autoPlayFailUser=n},clearAutoPlayFail:e=>{e.autoPlayFailUser=[]},updateAIGCState:(e,{payload:t})=>{e.isAIGCEnable=t.isAIGCEnable},updateAITalkState:(e,{payload:t})=>{e.isAIThinking=!1,e.isUserTalking=!1,e.isAITalking=t.isAITalking},updateAIThinkState:(e,{payload:t})=>{e.isAIThinking=t.isAIThinking,e.isUserTalking=!1},clearHistoryMsg:e=>{e.msgHistory=[]},setHistoryMsg:(e,{payload:t})=>{const{paragraph:r,definite:n}=t,i=e.msgHistory.at(-1)||{},s=t.user===e.sceneConfigMap[e.scene].botName?i.definite:i.paragraph;e.msgHistory.length?s?e.msgHistory.push({value:t.text,time:new Date().toString(),user:t.user,definite:n,paragraph:r}):(i.value=t.text,i.time=new Date().toString(),i.paragraph=r,i.definite=n,i.user=t.user):e.msgHistory.push({value:t.text,time:new Date().toString(),user:t.user,paragraph:r})},setHistoryMsgComplete:e=>{e.msgHistory[e.msgHistory.length-1].definite=!0,e.msgHistory[e.msgHistory.length-1].paragraph=!0},setInterruptMsg:e=>{if(e.isAITalking=!1,!!e.msgHistory.length)for(let t=e.msgHistory.length-1;t>=0;t--){const r=e.msgHistory[t];if(r.value){r.definite||(e.msgHistory[t].isInterrupted=!0);break}}},clearCurrentMsg:e=>{e.currentConversation={},e.msgHistory=[],e.isAITalking=!1,e.isUserTalking=!1},updateShowSubtitle:(e,{payload:t})=>{e.isShowSubtitle=t},updateDisplaySubtitleByTimer:(e,{payload:t})=>{e.isDisplaySubtitleByTimer=t},updateFullScreen:(e,{payload:t})=>{e.isFullScreen=t.isFullScreen},updatecustomSceneName:(e,{payload:t})=>{e.customSceneName=t.customSceneName}}}),{localJoinRoom:or,localLeaveRoom:sr,updateRoomTime:cr,addAutoPlayFail:ar,removeAutoPlayFail:ur,clearAutoPlayFail:lr,updateAIGCState:fr,updateAITalkState:dr,updateAIThinkState:mr,setHistoryMsg:pr,clearHistoryMsg:yr,clearCurrentMsg:hr,setInterruptMsg:_r,updateScene:gr,updateSceneConfig:Sr,updateRTCConfig:Pr,updateShowSubtitle:wr,updateFullScreen:Cr,updatecustomSceneName:Rr,setHistoryMsgComplete:vr,updateDisplaySubtitleByTimer:Er}=D.actions,$t=D.reducer,qt={audioInputs:[],videoInputs:[],devicePermissions:{audio:!0,video:!0}},Oe=O({name:"deivce",initialState:qt,reducers:{updateMediaInputs:(e,{payload:t})=>{t.audioInputs&&(e.audioInputs=t.audioInputs),t.videoInputs&&(e.videoInputs=t.videoInputs)},updateSelectedDevice:(e,{payload:t})=>{t.selectedCamera&&(e.selectedCamera=t.selectedCamera),t.selectedMicrophone&&(e.selectedMicrophone=t.selectedMicrophone)},setMicrophoneList:(e,t)=>{e.audioInputs=t.payload},setDevicePermissions:(e,t)=>{e.devicePermissions=t.payload}}}),{updateMediaInputs:br,updateSelectedDevice:Tr,setMicrophoneList:kr,setDevicePermissions:Ir}=Oe.actions,Jt=Oe.reducer,Gt={user:{},token:"",isLogin:!1},Ue=O({name:"user",initialState:Gt,reducers:{updateUser:(e,{payload:t})=>{t&&(e.user=t)},updateToken:(e,{payload:t})=>{t.token&&(e.token=t.token)},updateLoginStatus:(e,{payload:t})=>{t.isLogin&&(e.isLogin=t.isLogin)},clearUser:e=>{e.user={},e.token=""}}}),{updateUser:Ar,updateToken:Dr,clearUser:Mr,updateLoginStatus:xr}=Ue.actions,Wt=Ue.reducer,Qt={hasPreload:!1,cameraPermission:!1,microphonePermission:!1,screenSharePermission:!1},Fe=O({name:"global",initialState:Qt,reducers:{updateHasPreload:(e,{payload:t})=>{t&&(e.hasPreload=t)},updateCameraPermission:(e,{payload:t})=>{t&&(e.cameraPermission=t)},updateMicrophonePermission:(e,{payload:t})=>{t&&(e.microphonePermission=t)},updateScreenSharePermission:(e,{payload:t})=>{t&&(e.screenSharePermission=t)}}}),{updateHasPreload:Or,updateCameraPermission:Ur,updateMicrophonePermission:Fr,updateScreenSharePermission:zr}=Fe.actions,Kt=Fe.reducer,Xt={networkQuality:Ye.UNKNOWN,remoteUsers:[],localUser:{publishAudio:!1,publishVideo:!1,publishScreen:!1}},ze=O({name:"roomExtra",initialState:Xt,reducers:{updateNetworkQuality:(e,{payload:t})=>{e.networkQuality=t.networkQuality},remoteUserJoin:(e,{payload:t})=>{e.remoteUsers.push(t)},remoteUserLeave:(e,{payload:t})=>{const r=e.remoteUsers.findIndex(n=>n.userId===t.userId);e.remoteUsers.splice(r,1)},updateLocalUser:(e,{payload:t})=>{e.localUser={...e.localUser,...t||{}}},updateRemoteUser:(e,{payload:t})=>{Array.isArray(t)||(t=[t]),t.forEach(r=>{const n=e.remoteUsers.findIndex(i=>i.userId===r.userId);e.remoteUsers[n]={...e.remoteUsers[n],...r}})}},extraReducers:e=>{e.addCase(D.actions.localJoinRoom,(t,r)=>{t.localUser={...t.localUser,...r.payload.user}}),e.addCase(D.actions.localLeaveRoom,t=>{t.localUser={publishAudio:!1,publishVideo:!1,publishScreen:!1},t.remoteUsers=[]})}}),{updateNetworkQuality:Nr,remoteUserJoin:Lr,remoteUserLeave:jr,updateLocalUser:Hr,updateRemoteUser:Br}=ze.actions,Vt=ze.reducer,Yt={RtcClient:null,scene:""},Ne=O({name:"rtcClient",initialState:Yt,reducers:{setRtcClient:(e,t)=>{e.RtcClient=t.payload}},extraReducers:e=>{e.addCase(D.actions.updateRTCConfig,(t,r)=>{t.RtcClient&&(t.RtcClient.basicInfo={app_id:r.payload[t.scene].AppId,room_id:r.payload[t.scene].RoomId,user_id:r.payload[t.scene].UserId,token:r.payload[t.scene].Token})}).addCase(D.actions.updateScene,(t,r)=>{t.scene=r.payload})}}),{setRtcClient:$r}=Ne.actions,Zt=Ne.reducer,er=At({reducer:{room:$t,device:Jt,user:Wt,global:Kt,roomExtra:Vt,rtcClient:Zt},middleware:e=>e({serializableCheck:!1})});rt.createRoot(document.getElementById("root")).render(C.jsx(Ve,{store:er,children:C.jsx(Je,{children:C.jsx(qe,{router:ft})})}));export{pr as A,_r as B,dr as C,mr as D,Or as E,Ar as F,xr as G,Fr as a,Nr as b,ar as c,kr as d,Tr as e,Br as f,Hr as g,jr as h,Lr as i,C as j,yr as k,hr as l,sr as m,fr as n,or as o,br as p,Er as q,ur as r,$r as s,wr as t,Ur as u,er as v,gr as w,Sr as x,Pr as y,Cr as z};
