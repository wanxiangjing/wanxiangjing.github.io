import{j as o}from"./index-C7R3IaCj.js";import{T as l,A as y,U as p}from"./ui-vendor-B_BG4PkP.js";import{u as d,f,a as s,O as x}from"./core-vendor-BY2yH0eA.js";import{l as _}from"./logo-CiLQncpc.js";import{u as j}from"./store-vendor-BtW7VYLY.js";import"./rtc-vendor-Co3qY2HD.js";const B="_layout_1eaw5_1",h="_layoutContent_1eaw5_6",v="_layoutBottomBar_1eaw5_11",g="_roomIcon_1eaw5_22",a={layout:B,layoutContent:h,layoutBottomBar:v,roomIcon:g},C=[{key:"/",title:"首页",icon:o.jsx(y,{})},{key:"/room",title:"开始导游",icon:o.jsx("img",{src:_,className:a.roomIcon,alt:"room"})},{key:"/profile",title:"我的",icon:o.jsx(p,{})}],O=()=>{const n=d(),r=f().pathname,[e,i]=s.useState(r),{hasPreload:c}=j(t=>t.global),m=r,u=t=>{n(t)};return s.useEffect(()=>{u(e)},[e]),s.useEffect(()=>{c||n(`/preload?redirect=${m||"/"}`)},[c]),o.jsxs("div",{className:a.layout,children:[o.jsx("div",{className:a.layoutContent,children:o.jsx(x,{})}),o.jsx("div",{className:a.layoutBottomBar,style:{display:e!=="/room"?"auto":"none"},children:o.jsx(l,{activeKey:e,onChange:t=>i(t),children:C.map(t=>o.jsx(l.Item,{icon:t.icon,title:t.title},t.key))})})]})};export{O as default};
