import{w as x,c as C,m as I,u as R,a as M,j as b,O}from"./index-D7XsvT8O.js";import{a as g,R as c,u as K}from"./store-vendor-C5eEuSGF.js";import{u as Z}from"./use-props-value-DanveUDS.js";import{l as q}from"./logo-CiLQncpc.js";import{U as T}from"./UserOutline-DQLUO7wx.js";import"./rtc-vendor-Co3qY2HD.js";function A(n,s){const r=n;for(const a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);return r}function z(n){return g.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n,{style:Object.assign({verticalAlign:"-0.125em"},n.style),className:["antd-mobile-icon",n.className].filter(Boolean).join(" ")}),g.createElement("g",{id:"AppOutline-AppOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},g.createElement("g",{id:"AppOutline-编组"},g.createElement("rect",{id:"AppOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),g.createElement("path",{d:"M38.6673097,11.5277497 L27.3505965,4.90817356 C25.2828181,3.69727548 22.7306145,3.69727548 20.6583507,4.90817356 L9.33715206,11.5277497 C7.2693737,12.7386478 6,14.9675973 6,17.3804238 L6,30.6195762 C6,33.0324027 7.27385912,35.265837 9.33715206,36.4722503 L20.6538653,43.0918264 C22.7261291,44.3027245 25.2738473,44.3027245 27.3461111,43.0918264 L38.6628243,36.4722503 C40.7306027,35.265837 41.9999882,33.0324027 41.9999882,30.6195762 L41.9999882,17.3849086 C42.0044618,14.9675973 40.7350881,12.7386478 38.6673097,11.5277497 Z M8.62397037,17.3804238 C8.62397037,15.8914677 9.40443335,14.5191165 10.673807,13.7746384 L21.9591223,7.16851665 C23.2240106,6.42852338 24.7804512,6.42852338 26.0453394,7.16851665 L32.4908872,10.9447247 L12.9479147,22.3764996 L8.62397037,19.8470681 L8.62397037,17.3804238 Z M23.7398339,19.0622267 L32.4729455,24.1704227 L24.2466863,28.9826214 L15.5135746,23.8744254 L23.7398339,19.0622267 L23.7398339,19.0622267 Z M10.673807,34.1984527 C9.40443335,33.4584595 8.62397037,32.0816235 8.62397037,30.5926673 L8.62397037,22.8474044 L21.6810263,30.485032 L13.0017397,35.5618343 L10.673807,34.1984527 L10.673807,34.1984527 Z M39.3804914,30.5926673 C39.3804914,32.0816235 38.6000284,33.4539747 37.3306547,34.1984527 L26.0453394,40.8045745 C24.7804512,41.5445678 23.2240106,41.5445678 21.9591223,40.8045745 L15.5629142,37.0597601 L35.0386054,25.6683485 L39.3804914,28.2067496 L39.3804914,30.5926673 L39.3804914,30.5926673 Z M39.3804914,25.2108981 L35.6486224,23.0267967 L26.3054938,17.5643009 L35.0565471,12.4471353 L37.3306547,13.7791232 C38.6000284,14.5191165 39.3804914,15.8959525 39.3804914,17.3849086 L39.3804914,25.2108981 L39.3804914,25.2108981 Z",id:"AppOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}const _="adm-safe-area",V=n=>x(n,c.createElement("div",{className:C(_,`${_}-position-${n.position}`)})),$="adm-badge",F=c.createElement(c.Fragment,null),U=n=>{const{content:s,color:r,children:a}=n,l=s===F,i=C($,{[`${$}-fixed`]:!!a,[`${$}-dot`]:l,[`${$}-bordered`]:n.bordered}),p=s||s===0?x(n,c.createElement("div",{className:i,style:{"--color":r}},!l&&c.createElement("div",{className:`${$}-content`},s))):null;return a?c.createElement("div",{className:C(`${$}-wrapper`,n.wrapperClassName),style:n.wrapperStyle},a,p):p},N=A(U,{dot:F});var w={exports:{}},o={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k;function D(){if(k)return o;k=1;var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),p=Symbol.for("react.context"),t=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function m(e){if(typeof e=="object"&&e!==null){var E=e.$$typeof;switch(E){case n:switch(e=e.type,e){case r:case l:case a:case y:case d:return e;default:switch(e=e&&e.$$typeof,e){case t:case p:case u:case L:case f:case i:return e;default:return E}}case s:return E}}}return o.ContextConsumer=p,o.ContextProvider=i,o.Element=n,o.ForwardRef=u,o.Fragment=r,o.Lazy=L,o.Memo=f,o.Portal=s,o.Profiler=l,o.StrictMode=a,o.Suspense=y,o.SuspenseList=d,o.isAsyncMode=function(){return!1},o.isConcurrentMode=function(){return!1},o.isContextConsumer=function(e){return m(e)===p},o.isContextProvider=function(e){return m(e)===i},o.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===n},o.isForwardRef=function(e){return m(e)===u},o.isFragment=function(e){return m(e)===r},o.isLazy=function(e){return m(e)===L},o.isMemo=function(e){return m(e)===f},o.isPortal=function(e){return m(e)===s},o.isProfiler=function(e){return m(e)===l},o.isStrictMode=function(e){return m(e)===a},o.isSuspense=function(e){return m(e)===y},o.isSuspenseList=function(e){return m(e)===d},o.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===r||e===l||e===a||e===y||e===d||e===P||typeof e=="object"&&e!==null&&(e.$$typeof===L||e.$$typeof===f||e.$$typeof===i||e.$$typeof===p||e.$$typeof===u||e.$$typeof===S||e.getModuleId!==void 0)},o.typeOf=m,o}var j;function W(){return j||(j=1,w.exports=D()),w.exports}var X=W();function G(n,s){let r=0;function a(l){c.Children.forEach(l,i=>{X.isFragment(i)?a(i.props.children):(s(i,r),r+=1)})}a(n)}const H=()=>null,v="adm-tab-bar",J={safeArea:!1},Q=n=>{var s;const r=I(J,n);let a=null;const l=[];G(r.children,(t,u)=>{if(!g.isValidElement(t))return;const y=t.key;typeof y=="string"&&(u===0&&(a=y),l.push(t))});const[i,p]=Z({value:r.activeKey,defaultValue:(s=r.defaultActiveKey)!==null&&s!==void 0?s:a,onChange:t=>{var u;t!==null&&((u=r.onChange)===null||u===void 0||u.call(r,t))}});return x(r,c.createElement("div",{className:v},c.createElement("div",{className:`${v}-wrap`},l.map(t=>{const u=t.key===i;function y(){const d=t.props.icon&&c.createElement("div",{className:`${v}-item-icon`},typeof t.props.icon=="function"?t.props.icon(u):t.props.icon),f=t.props.title&&c.createElement("div",{className:C(`${v}-item-title`,!!d&&`${v}-item-title-with-icon`)},typeof t.props.title=="function"?t.props.title(u):t.props.title);return d?c.createElement(c.Fragment,null,c.createElement(N,{content:t.props.badge,className:`${v}-icon-badge`},d),f):f?c.createElement(N,{content:t.props.badge,className:`${v}-title-badge`},f):null}return x(t.props,c.createElement("div",{key:t.key,onClick:()=>{var d,f;const{key:L}=t;L!=null&&(p(L.toString()),(f=(d=t.props).onClick)===null||f===void 0||f.call(d))},className:C(`${v}-item`,{[`${v}-item-active`]:u})},y()))})),r.safeArea&&c.createElement(V,{position:"bottom"})))},B=A(Q,{Item:H}),Y="_layout_mow78_1",ee="_layoutContent_mow78_8",te="_layoutBottomBar_mow78_13",oe="_roomIcon_mow78_24",h={layout:Y,layoutContent:ee,layoutBottomBar:te,roomIcon:oe},ne=[{key:"/",title:"首页",icon:b.jsx(z,{})},{key:"/permission",title:"开始导游",icon:b.jsx("img",{src:q,className:h.roomIcon,alt:"room"})},{key:"/profile",title:"我的",icon:b.jsx(T,{})}],ue=()=>{const n=R(),s=M().pathname,[r,a]=g.useState(s),{hasPreload:l}=K(t=>t.global),i=s,p=t=>{n(t)};return g.useEffect(()=>{p(r)},[r]),g.useEffect(()=>{l||n(`/preload?redirect=${i||"/"}`)},[l]),b.jsxs("div",{className:h.layout,children:[b.jsx("div",{className:h.layoutContent,children:b.jsx(O,{})}),b.jsx("div",{className:h.layoutBottomBar,style:{display:r!=="/room"?"auto":"none"},children:b.jsx(B,{activeKey:r,onChange:t=>a(t),children:ne.map(t=>b.jsx(B.Item,{icon:t.icon,title:t.title},t.key))})})]})};export{ue as default};
