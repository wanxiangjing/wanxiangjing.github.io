import{j as o}from"./index-DLuxAid6.js";import{a as l,A as y,U as p}from"./ui-vendor-CtpJTzpL.js";import{u as f,f as d,a as s,O as x}from"./react-vendor-BY2yH0eA.js";import{l as _}from"./logo-CiLQncpc.js";import{f as j}from"./redux-vendor-C-18dVXr.js";import"./utils-vendor-NIGUFBhG.js";import"./rtc-vendor-Co3qY2HD.js";const B="_layout_1eaw5_1",h="_layoutContent_1eaw5_6",v="_layoutBottomBar_1eaw5_11",g="_roomIcon_1eaw5_22",e={layout:B,layoutContent:h,layoutBottomBar:v,roomIcon:g},C=[{key:"/",title:"首页",icon:o.jsx(y,{})},{key:"/room",title:"开始导游",icon:o.jsx("img",{src:_,className:e.roomIcon,alt:"room"})},{key:"/profile",title:"我的",icon:o.jsx(p,{})}],b=()=>{const n=f(),r=d().pathname,[a,i]=s.useState(r),{hasPreload:c}=j(t=>t.global),m=r,u=t=>{n(t)};return s.useEffect(()=>{u(a)},[a]),s.useEffect(()=>{c||n(`/preload?redirect=${m||"/"}`)},[c]),o.jsxs("div",{className:e.layout,children:[o.jsx("div",{className:e.layoutContent,children:o.jsx(x,{})}),o.jsx("div",{className:e.layoutBottomBar,style:{display:a!=="/room"?"auto":"none"},children:o.jsx(l,{activeKey:a,onChange:t=>i(t),children:C.map(t=>o.jsx(l.Item,{icon:t.icon,title:t.title},t.key))})})]})};export{b as default};
